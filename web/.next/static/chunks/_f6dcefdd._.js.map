{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/di.ts"],"sourcesContent":["import { Container } from 'inversify';\r\n\r\nconst container = new Container();\r\n\r\nexport default container;"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,MAAM,YAAY,IAAI,iLAAS;uCAEhB","debugId":null}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/services/account.service.ts"],"sourcesContent":["import type { AccountData, CreateAccountData, GetAccountsData, UpdateAccountData } from '@strife/common';\r\nimport { AccountSchema } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\nimport di from '../../app/di';\r\nimport type { IAccountService } from './account.service.interface.js';\r\nimport { AccountServiceServiceId } from './account.service.interface.js';\r\nimport { AuthenticationServiceServiceId } from './authentication.service.interface.js';\r\nimport BaseService from './base.service.js';\r\n\r\n@injectable()\r\nclass AccountService extends BaseService implements IAccountService {\r\n\r\n  protected override get baseUrl(): string | URL | undefined {\r\n    return `http://localhost:3000/accounts`;\r\n  }\r\n\r\n  public async createAccount(data: CreateAccountData): Promise<AccountData> {\r\n    const accountData = await this.post<AccountData>({ schema: AccountSchema, data });\r\n    const authenticationService = await di.getAsync(AuthenticationServiceServiceId);\r\n    await authenticationService.login({ email: data.email, password: data.password });\r\n    return accountData;\r\n  }\r\n\r\n  public async deleteAccount(): Promise<void> {\r\n    const authenticationService = await di.getAsync(AuthenticationServiceServiceId);\r\n    if (!authenticationService.user)\r\n      return Promise.reject();\r\n\r\n    return this.delete({ url: `/${authenticationService.user.authentication.account_id}` });\r\n  }\r\n\r\n  public getAccount(id: string): Promise<AccountData> {\r\n    return this.get<AccountData>({ schema: AccountSchema, url: `/${id}` });\r\n  }\r\n\r\n  public getAccounts(data: GetAccountsData): Promise<AccountData[]> {\r\n    return this.get<AccountData[]>({ schema: AccountSchema.array(), data });\r\n  }\r\n\r\n  public async updateAccount(data: UpdateAccountData): Promise<AccountData> {\r\n    const authenticationService = await di.getAsync(AuthenticationServiceServiceId);\r\n    if (!authenticationService.user)\r\n      return Promise.reject();\r\n\r\n    return this.put<AccountData>({ schema: AccountSchema, url: `/${authenticationService.user.authentication.account_id}`, data });\r\n  }\r\n\r\n}\r\n\r\ndi.bind(AccountServiceServiceId).to(AccountService).inSingletonScope();"],"names":[],"mappings":";;AACA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;AAMA,MACM,uBAAuB;IAE3B,IAAuB,UAAoC;QACzD,OAAQ;IACV;IAEA,MAAa,cAAc,IAAuB,EAAwB;QACxE,MAAM,cAAc,MAAM,IAAI,CAAC,IAAI,CAAc;YAAE,QAAQ,iLAAa;YAAE;QAAK;QAC/E,MAAM,wBAAwB,MAAM,uHAAE,CAAC,QAAQ,CAAC;QAChD,MAAM,sBAAsB,KAAK,CAAC;YAAE,OAAO,KAAK,KAAK;YAAE,UAAU,KAAK,QAAQ;QAAC;QAC/E,OAAO;IACT;IAEA,MAAa,gBAA+B;QAC1C,MAAM,wBAAwB,MAAM,uHAAE,CAAC,QAAQ,CAAC;QAChD,IAAI,CAAC,sBAAsB,IAAI,EAC7B,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,MAAM,CAAC;YAAE,KAAK,AAAC,IAAwD,OAArD,sBAAsB,IAAI,CAAC,cAAc,CAAC,UAAU;QAAG;IACvF;IAEO,WAAW,EAAU,EAAwB;QAClD,OAAO,IAAI,CAAC,GAAG,CAAc;YAAE,QAAQ,iLAAa;YAAE,KAAK,AAAC,IAAM,OAAH;QAAK;IACtE;IAEO,YAAY,IAAqB,EAA0B;QAChE,OAAO,IAAI,CAAC,GAAG,CAAgB;YAAE,QAAQ,iLAAa,CAAC,KAAK;YAAI;QAAK;IACvE;IAEA,MAAa,cAAc,IAAuB,EAAwB;QACxE,MAAM,wBAAwB,MAAM,uHAAE,CAAC,QAAQ,CAAC;QAChD,IAAI,CAAC,sBAAsB,IAAI,EAC7B,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,GAAG,CAAc;YAAE,QAAQ,iLAAa;YAAE,KAAK,AAAC,IAAwD,OAArD,sBAAsB,IAAI,CAAC,cAAc,CAAC,UAAU;YAAI;QAAK;IAC9H;AAEF;;;;AAEA,uHAAE,CAAC,IAAI,CAAC,yBAAyB,EAAE,CAAC,gBAAgB,gBAAgB","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/login/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Alert from '@mui/material/Alert';\r\nimport Button from '@mui/material/Button';\r\nimport Link from '@mui/material/Link';\r\nimport Paper from '@mui/material/Paper';\r\nimport TextField from '@mui/material/TextField';\r\nimport Typography from '@mui/material/Typography';\r\nimport { ChangeEvent, Fragment, useState } from 'react';\r\nimport '../../src/services/account.service';\r\n\r\nexport default function Home() {\r\n\r\n  const [ accessToken, setAccessToken ] = useState('');\r\n  const [ refreshToken, setRefreshToken ] = useState('');\r\n\r\n  const [ email, setEmail ] = useState('');\r\n  function onChangeEmail(event: ChangeEvent<HTMLInputElement>): void {\r\n    setEmail(event.target.value)\r\n  }\r\n\r\n  const [ password, setPassword ] = useState('');\r\n  function onChangePassword(event: ChangeEvent<HTMLInputElement>): void {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n  const [ error, setError ] = useState(undefined);\r\n\r\n  async function onSubmitLogin(event: React.FormEvent<HTMLFormElement>): Promise<void> {\r\n    event.preventDefault();\r\n    \r\n    const loginResponse = await fetch(\r\n      'http://localhost:3000/authentication', \r\n      {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          email,\r\n          password\r\n        })\r\n      }\r\n    );\r\n\r\n    const loginJson = await loginResponse.json();\r\n    setAccessToken(loginJson.accessToken);\r\n    setRefreshToken(loginJson.refreshToken);\r\n\r\n  }\r\n\r\n  return (\r\n    <div className=\"font-sans grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20\">\r\n      <main className=\"row-start-2 items-center sm:items-start w-md\">\r\n        <Paper elevation={4}>\r\n          <form className=\"flex flex-col gap-[32px] p-8\" onSubmit={onSubmitLogin}>\r\n            <Typography variant=\"h2\" align=\"center\" fontWeight={700}>strife</Typography>\r\n            <div className=\"flex flex-col gap-[8px]\">\r\n              {\r\n                error == undefined\r\n                  ? <Fragment />\r\n                  : <Alert variant=\"filled\" severity=\"error\">{error}</Alert>\r\n              }\r\n              <TextField name=\"email\" type=\"email\" value={email} onChange={onChangeEmail} placeholder=\"email\" />\r\n              <TextField name=\"password\" type=\"password\" onChange={onChangePassword} placeholder=\"password\" />\r\n              <Button type=\"submit\">Login</Button>\r\n              <Link href=\"/register\" className=\"text-center\" fontSize={'small'}>Don't have an account yet?</Link>\r\n            </div>\r\n          </form>\r\n        </Paper>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAWe,SAAS;;IAEtB,MAAM,CAAE,aAAa,eAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAE,cAAc,gBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,MAAM,CAAE,OAAO,SAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,SAAS,cAAc,KAAoC;QACzD,SAAS,MAAM,MAAM,CAAC,KAAK;IAC7B;IAEA,MAAM,CAAE,UAAU,YAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,SAAS,iBAAiB,KAAoC;QAC5D,YAAY,MAAM,MAAM,CAAC,KAAK;IAChC;IAEA,MAAM,CAAE,OAAO,SAAU,GAAG,IAAA,yKAAQ,EAAC;IAErC,eAAe,cAAc,KAAuC;QAClE,MAAM,cAAc;QAEpB,MAAM,gBAAgB,MAAM,MAC1B,wCACA;YACE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACnB;gBACA;YACF;QACF;QAGF,MAAM,YAAY,MAAM,cAAc,IAAI;QAC1C,eAAe,UAAU,WAAW;QACpC,gBAAgB,UAAU,YAAY;IAExC;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAK,WAAU;sBACd,cAAA,6LAAC,wKAAK;gBAAC,WAAW;0BAChB,cAAA,6LAAC;oBAAK,WAAU;oBAA+B,UAAU;;sCACvD,6LAAC,kLAAU;4BAAC,SAAQ;4BAAK,OAAM;4BAAS,YAAY;sCAAK;;;;;;sCACzD,6LAAC;4BAAI,WAAU;;gCAEX,SAAS,0BACL,6LAAC,yKAAQ;;;;yDACT,6LAAC,wKAAK;oCAAC,SAAQ;oCAAS,UAAS;8CAAS;;;;;;8CAEhD,6LAAC,gLAAS;oCAAC,MAAK;oCAAQ,MAAK;oCAAQ,OAAO;oCAAO,UAAU;oCAAe,aAAY;;;;;;8CACxF,6LAAC,gLAAS;oCAAC,MAAK;oCAAW,MAAK;oCAAW,UAAU;oCAAkB,aAAY;;;;;;8CACnF,6LAAC,0KAAM;oCAAC,MAAK;8CAAS;;;;;;8CACtB,6LAAC,sKAAI;oCAAC,MAAK;oCAAY,WAAU;oCAAc,UAAU;8CAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhF;GA5DwB;KAAA","debugId":null}}]
}