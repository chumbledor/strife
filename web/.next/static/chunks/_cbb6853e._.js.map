{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/di.ts"],"sourcesContent":["import { Container } from 'inversify';\r\n\r\nconst container = new Container();\r\n\r\nexport default container;"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,MAAM,YAAY,IAAI,iLAAS;uCAEhB","debugId":null}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/services/toast.service.interface.ts"],"sourcesContent":["import { SnackbarProps } from '@mui/material/Snackbar';\r\nimport { type IAction } from '@strife/common';\r\nimport { ServiceIdentifier } from \"inversify\";\r\n\r\nexport interface IToastService {\r\n  active?: IToastData;\r\n  onChange: IAction<[]>;\r\n  add(data: IToastData): IToastHandle;\r\n  remove(handle: IToastHandle): void;\r\n}\r\n\r\nexport interface IToastData extends SnackbarProps {}\r\n\r\nexport interface IToastHandle {\r\n  dismiss(): void;\r\n}\r\n\r\nexport const ToastServiceServiceId: ServiceIdentifier<IToastService> = Symbol.for('ToastServiceServiceId');"],"names":[],"mappings":";;;;AAiBO,MAAM,wBAA0D,OAAO,GAAG,CAAC","debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/services/toast.service.ts"],"sourcesContent":["import { type SnackbarCloseReason } from '@mui/material';\r\nimport { Action, type IAction } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\nimport { type SyntheticEvent } from 'react';\r\nimport di from '../di';\r\nimport { ToastServiceServiceId, type IToastData, type IToastHandle, type IToastService } from './toast.service.interface';\r\n\r\n@injectable()\r\nclass ToastService implements IToastService {\r\n\r\n  public get active(): IToastData | undefined {\r\n    return this._items.at(0);\r\n  }\r\n\r\n  private _items = new Array<IToastData>();\r\n  private _handleToData = new Map<IToastHandle, IToastData>();\r\n\r\n  private _onChange: Action<[]> = new Action<[]>();\r\n  public get onChange(): IAction<[]> {\r\n    return this._onChange;\r\n  }\r\n\r\n  public add(data: IToastData): IToastHandle {\r\n    const handle = new ToastHandle(this);\r\n    this.initialize(data);\r\n    this._items.push(data);\r\n    this._handleToData.set(handle, data);\r\n    this.activate();\r\n    return handle;\r\n  }\r\n\r\n  public remove(handle: IToastHandle): void {\r\n    const data = this._handleToData.get(handle);\r\n    if (!data)\r\n      return;\r\n    \r\n    if (this.active != data) {\r\n      const index = this._items.indexOf(data);\r\n      this._items.splice(index, 1);\r\n    }\r\n\r\n    this.deactivate(data);\r\n  }\r\n\r\n  private initialize(data: IToastData): void {\r\n    data.open = false;\r\n    const onClose = data.onClose;\r\n    data.onClose = \r\n      (event: Event | SyntheticEvent<any, Event>, reason: SnackbarCloseReason): void => {\r\n        if (onClose)\r\n          onClose(event, reason);\r\n\r\n        if (this.active == data) {\r\n          this.deactivate();\r\n          return;\r\n        }\r\n\r\n        const index = this._items.indexOf(data);\r\n        this._items.splice(index, 1);\r\n      };\r\n  }\r\n\r\n  private activate(): void {\r\n    if (!this.active)\r\n      return;\r\n\r\n    this.active.open = true;\r\n    this._onChange.invoke();\r\n  }\r\n\r\n  private deactivate(): void {\r\n    if (this.active)\r\n      this.active.open = false;\r\n\r\n    this._items.shift();\r\n    this.activate();\r\n    this._onChange.invoke();\r\n  }\r\n  \r\n}\r\n\r\nclass ToastHandle implements IToastHandle {\r\n  \r\n  private _toasts: IToastService;\r\n  \r\n  public constructor(toasts: IToastService) {\r\n    this._toasts = toasts;\r\n  }\r\n\r\n  public dismiss(): void {\r\n    this._toasts.remove(this);\r\n  }\r\n\r\n}\r\n\r\ndi.bind(ToastServiceServiceId).to(ToastService).inSingletonScope();"],"names":[],"mappings":";;;AACA;AAAA;AACA;AAAA;AAEA;AACA;;;;;;;AAEA,MACM;IAEJ,IAAW,SAAiC;QAC1C,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;IACxB;IAMA,IAAW,WAAwB;QACjC,OAAO,IAAI,CAAC,SAAS;IACvB;IAEO,IAAI,IAAgB,EAAgB;QACzC,MAAM,SAAS,IAAI,YAAY,IAAI;QACnC,IAAI,CAAC,UAAU,CAAC;QAChB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QACjB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,QAAQ;QAC/B,IAAI,CAAC,QAAQ;QACb,OAAO;IACT;IAEO,OAAO,MAAoB,EAAQ;QACxC,MAAM,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;QACpC,IAAI,CAAC,MACH;QAEF,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;YACvB,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO;QAC5B;QAEA,IAAI,CAAC,UAAU,CAAC;IAClB;IAEQ,WAAW,IAAgB,EAAQ;QACzC,KAAK,IAAI,GAAG;QACZ,MAAM,UAAU,KAAK,OAAO;QAC5B,KAAK,OAAO,GACV,CAAC,OAA2C;YAC1C,IAAI,SACF,QAAQ,OAAO;YAEjB,IAAI,IAAI,CAAC,MAAM,IAAI,MAAM;gBACvB,IAAI,CAAC,UAAU;gBACf;YACF;YAEA,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO;QAC5B;IACJ;IAEQ,WAAiB;QACvB,IAAI,CAAC,IAAI,CAAC,MAAM,EACd;QAEF,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG;QACnB,IAAI,CAAC,SAAS,CAAC,MAAM;IACvB;IAEQ,aAAmB;QACzB,IAAI,IAAI,CAAC,MAAM,EACb,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG;QAErB,IAAI,CAAC,MAAM,CAAC,KAAK;QACjB,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,SAAS,CAAC,MAAM;IACvB;;QA/DA,+KAAQ,UAAS,IAAI;QACrB,+KAAQ,iBAAgB,IAAI;QAE5B,+KAAQ,aAAwB,IAAI,iKAAM;;AA8D5C;;;;AAEA,MAAM;IAQG,UAAgB;QACrB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI;IAC1B;IANA,YAAmB,MAAqB,CAAE;QAF1C,+KAAQ,WAAR,KAAA;QAGE,IAAI,CAAC,OAAO,GAAG;IACjB;AAMF;AAEA,uHAAE,CAAC,IAAI,CAAC,4KAAqB,EAAE,EAAE,CAAC,cAAc,gBAAgB","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/components/Toasts.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport { Fragment, JSX, useEffect, useState } from 'react';\r\nimport di from '../src/di';\r\nimport '../src/services/toast.service';\r\nimport { type IToastData, ToastServiceServiceId } from '../src/services/toast.service.interface';\r\n\r\nexport default function Toasts(): JSX.Element {\r\n  const toasts = di.get(ToastServiceServiceId);\r\n  const [ snackbar, setSnackbar ] = useState<JSX.Element | undefined>();\r\n  useEffect(initialize, []);\r\n\r\n  return <Fragment>{snackbar}</Fragment>;\r\n\r\n  function onChange(): void {\r\n    const snackbar = generate(toasts.active);\r\n    setSnackbar(snackbar);\r\n  }\r\n\r\n  function initialize(): void {\r\n    onChange();\r\n    toasts.onChange.add(onChange);\r\n    const handle = toasts.add({ message: 'Hello, world!', autoHideDuration: 2000 });\r\n    const handle2 = toasts.add({ message: 'Goodbye, world.', autoHideDuration: 2000 });\r\n  }\r\n\r\n  function generate(data?: IToastData): JSX.Element {\r\n    console.log(data)\r\n    return data\r\n      ? <Snackbar {...data} />\r\n      : <Fragment />;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,SAAS,uHAAE,CAAC,GAAG,CAAC,4KAAqB;IAC3C,MAAM,CAAE,UAAU,YAAa,GAAG,IAAA,yKAAQ;IAC1C,IAAA,0KAAS,EAAC,YAAY,EAAE;IAExB,qBAAO,6LAAC,yKAAQ;kBAAE;;;;;;;;IAElB,SAAS;QACP,MAAM,WAAW,SAAS,OAAO,MAAM;QACvC,YAAY;IACd;IAEA,SAAS;QACP;QACA,OAAO,QAAQ,CAAC,GAAG,CAAC;QACpB,MAAM,SAAS,OAAO,GAAG,CAAC;YAAE,SAAS;YAAiB,kBAAkB;QAAK;QAC7E,MAAM,UAAU,OAAO,GAAG,CAAC;YAAE,SAAS;YAAmB,kBAAkB;QAAK;IAClF;IAEA,SAAS,SAAS,IAAiB;QACjC,QAAQ,GAAG,CAAC;QACZ,OAAO,qBACH,6LAAC,8KAAQ;YAAE,GAAG,IAAI;;;;;iCAClB,6LAAC,yKAAQ;;;;;IACf;AACF;GAzBwB;KAAA","debugId":null}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/components/pages/Container.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Fragment, JSX } from 'react';\r\nimport Toasts from '../Toasts';\r\n\r\nexport default function Container({ children }: Readonly<{ children: React.ReactNode }>): JSX.Element {\r\n  return (\r\n    <Fragment>\r\n      <div>{children}</div>\r\n      <Toasts />\r\n    </Fragment>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,UAAU,KAAqD;QAArD,EAAE,QAAQ,EAA2C,GAArD;IAChC,qBACE,6LAAC,yKAAQ;;0BACP,6LAAC;0BAAK;;;;;;0BACN,6LAAC,mIAAM;;;;;;;;;;;AAGb;KAPwB","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/components/pages/WindowPage.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Paper from '@mui/material/Paper';\r\nimport { JSX } from 'react';\r\nimport Container from './Container';\r\n\r\nexport default function WindowPage({ children }: Readonly<{ children: React.ReactNode }>): JSX.Element {\r\n  return (\r\n    <Container>\r\n      <div className=\"font-sans grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20\">\r\n        <main className=\"row-start-2 items-center sm:items-start w-full md:w-lg\">\r\n          <Paper elevation={4}>\r\n            {children}\r\n          </Paper>\r\n        </main>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAMe,SAAS,WAAW,KAAqD;QAArD,EAAE,QAAQ,EAA2C,GAArD;IACjC,qBACE,6LAAC,+IAAS;kBACR,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,wKAAK;oBAAC,WAAW;8BACf;;;;;;;;;;;;;;;;;;;;;AAMb;KAZwB","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/user.interface.ts"],"sourcesContent":["import type { AuthenticationData } from '@strife/common';\r\nimport { ServiceIdentifier } from 'inversify';\r\n\r\nexport interface IUser {\r\n  authentication?: AuthenticationData;\r\n  login(authenticationData: AuthenticationData): void;\r\n  logout(): void;\r\n}\r\n\r\nexport const UserServiceId: ServiceIdentifier<IUser> = Symbol.for('UserServiceId');"],"names":[],"mappings":";;;;AASO,MAAM,gBAA0C,OAAO,GAAG,CAAC","debugId":null}},
    {"offset": {"line": 303, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/user.ts"],"sourcesContent":["import { type AuthenticationData } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\nimport di from './di';\r\nimport { UserServiceId, type IUser } from './user.interface';\r\n\r\n@injectable()\r\nexport default class User implements IUser {\r\n\r\n  private _authentication?: AuthenticationData;\r\n  public get authentication(): AuthenticationData | undefined {\r\n    return this._authentication;\r\n  }\r\n\r\n  public login(authenticationData: AuthenticationData): void {\r\n    this._authentication = authenticationData;\r\n  }\r\n\r\n  public logout(): void {\r\n    this._authentication = undefined;\r\n  }\r\n\r\n}\r\n\r\ndi.bind(UserServiceId).to(User).inSingletonScope();"],"names":[],"mappings":";;;;;;AACA;AAAA;AACA;AACA;;;;;;AAGe,MAAM;IAGnB,IAAW,iBAAiD;QAC1D,OAAO,IAAI,CAAC,eAAe;IAC7B;IAEO,MAAM,kBAAsC,EAAQ;QACzD,IAAI,CAAC,eAAe,GAAG;IACzB;IAEO,SAAe;QACpB,IAAI,CAAC,eAAe,GAAG;IACzB;;QAXA,+KAAQ,mBAAR,KAAA;;AAaF;;;;;AAEA,uHAAE,CAAC,IAAI,CAAC,4IAAa,EAAE,EAAE,CAAC,MAAM,gBAAgB","debugId":null}},
    {"offset": {"line": 344, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/services/account.service.interface.ts"],"sourcesContent":["import type { AccountData, CreateAccountData, GetAccountsData, UpdateAccountData } from '@strife/common';\r\nimport { ServiceIdentifier } from 'inversify';\r\nimport { IBaseService } from './base.service.interface';\r\n\r\nexport interface IAccountService extends IBaseService {\r\n  createAccount(data: CreateAccountData): Promise<AccountData>;\r\n  deleteAccount(): Promise<void>;\r\n  getAccount(id: string): Promise<AccountData>;\r\n  getAccounts(data: GetAccountsData): Promise<AccountData[]>;\r\n  updateAccount(data: UpdateAccountData): Promise<AccountData>;\r\n}\r\n\r\nexport const AccountServiceServiceId: ServiceIdentifier<IAccountService> = Symbol.for('AccountServiceServiceId');"],"names":[],"mappings":";;;;AAYO,MAAM,0BAA8D,OAAO,GAAG,CAAC","debugId":null}},
    {"offset": {"line": 356, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/services/base.service.ts"],"sourcesContent":["import '../user';\r\nimport { UserServiceId, type IUser } from '../user.interface';\r\nimport type { BaseServiceOptions, IBaseService, ServiceOptions, VoidServiceOptions } from './base.service.interface';\r\nimport di from '../di';\r\n\r\nexport default class BaseService implements IBaseService {\r\n\r\n  private static defaultOptions: BaseServiceOptions = {};\r\n\r\n  private static defaultInit: RequestInit = {\r\n    headers: { 'Content-Type': 'application/json' }\r\n  };\r\n\r\n  private _user: IUser;\r\n  protected get user(): IUser {\r\n    return this._user;\r\n  }\r\n\r\n  public constructor() {\r\n    this._user = di.get(UserServiceId);\r\n  }\r\n\r\n  protected get baseUrl(): string | URL | undefined {\r\n    return undefined;\r\n  }\r\n\r\n  protected async post(options?: VoidServiceOptions): Promise<void>\r\n  protected async post<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async post<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'POST';\r\n    options.init.body = JSON.stringify(options.data);\r\n    return this.fetch(options);\r\n  }\r\n\r\n  protected async delete(options?: VoidServiceOptions): Promise<void>\r\n  protected async delete<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async delete<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'DELETE';\r\n    options.init.body = JSON.stringify(options.data);\r\n    return this.fetch(options);\r\n  }\r\n\r\n  protected async get(options?: VoidServiceOptions): Promise<void>\r\n  protected async get<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async get<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'GET';\r\n\r\n    const searchParams = new URLSearchParams(options.data);\r\n    options.url = searchParams.size == 0 \r\n      ? options.url\r\n      : `${options.url}?${searchParams.toString()}`;\r\n      \r\n    return this.fetch(options);\r\n  }\r\n\r\n  protected async put(options?: VoidServiceOptions): Promise<void>\r\n  protected async put<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async put<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'PUT';\r\n    options.init.body = JSON.stringify(options.data);\r\n    return this.fetch(options);\r\n  }\r\n\r\n  private async fetch<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    if (this._user.authentication && this._user.authentication.accessToken) {\r\n      options.init.headers = { ...options.init.headers, ...{ 'Authorization': `Bearer ${this._user.authentication.accessToken}` } };\r\n    }\r\n\r\n    const url = `${this.baseUrl}${options.url ? options.url : ''}`;\r\n\r\n    const response = await fetch(url, options.init);\r\n    if (!response.ok) {\r\n      const json = await response.json();\r\n      return Promise.reject(json.message);\r\n    }\r\n\r\n    const typed = options as ServiceOptions<TResponse>;\r\n    if (!typed.schema)\r\n      return;\r\n\r\n    const json = await response.json();\r\n    return await typed.schema.parseAsync(json);\r\n  }\r\n\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 475, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/services/account.service.ts"],"sourcesContent":["import type { AccountData, CreateAccountData, GetAccountsData, UpdateAccountData } from '@strife/common';\r\nimport { AccountSchema } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\nimport di from '../di';\r\nimport type { IAccountService } from './account.service.interface';\r\nimport { AccountServiceServiceId } from './account.service.interface';\r\nimport { UserServiceId } from '../user.interface';\r\nimport BaseService from './base.service';\r\n\r\n@injectable()\r\nclass AccountService extends BaseService implements IAccountService {\r\n\r\n  protected override get baseUrl(): string | URL | undefined {\r\n    return `http://localhost:3000/accounts`;\r\n  }\r\n\r\n  public async createAccount(data: CreateAccountData): Promise<AccountData> {\r\n    return await this.post<AccountData>({ schema: AccountSchema, data });\r\n  }\r\n\r\n  public async deleteAccount(): Promise<void> {\r\n    const user = await di.getAsync(UserServiceId);\r\n    if (!user.authentication)\r\n      return Promise.reject();\r\n\r\n    return this.delete({ url: `/${user.authentication.account_id}` });\r\n  }\r\n\r\n  public getAccount(id: string): Promise<AccountData> {\r\n    return this.get<AccountData>({ schema: AccountSchema, url: `/${id}` });\r\n  }\r\n\r\n  public getAccounts(data: GetAccountsData): Promise<AccountData[]> {\r\n    return this.get<AccountData[]>({ schema: AccountSchema.array(), data });\r\n  }\r\n\r\n  public async updateAccount(data: UpdateAccountData): Promise<AccountData> {\r\n    const user = di.get(UserServiceId);\r\n    if (!user.authentication)\r\n      return Promise.reject();\r\n\r\n    return this.put<AccountData>({ schema: AccountSchema, url: `/${user.authentication.account_id}`, data });\r\n  }\r\n\r\n}\r\n\r\ndi.bind(AccountServiceServiceId).to(AccountService).inSingletonScope();"],"names":[],"mappings":";;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;;;;;;;;AAEA,MACM,uBAAuB,gJAAW;IAEtC,IAAuB,UAAoC;QACzD,OAAQ;IACV;IAEA,MAAa,cAAc,IAAuB,EAAwB;QACxE,OAAO,MAAM,IAAI,CAAC,IAAI,CAAc;YAAE,QAAQ,iLAAa;YAAE;QAAK;IACpE;IAEA,MAAa,gBAA+B;QAC1C,MAAM,OAAO,MAAM,uHAAE,CAAC,QAAQ,CAAC,4IAAa;QAC5C,IAAI,CAAC,KAAK,cAAc,EACtB,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,MAAM,CAAC;YAAE,KAAK,AAAC,IAAkC,OAA/B,KAAK,cAAc,CAAC,UAAU;QAAG;IACjE;IAEO,WAAW,EAAU,EAAwB;QAClD,OAAO,IAAI,CAAC,GAAG,CAAc;YAAE,QAAQ,iLAAa;YAAE,KAAK,AAAC,IAAM,OAAH;QAAK;IACtE;IAEO,YAAY,IAAqB,EAA0B;QAChE,OAAO,IAAI,CAAC,GAAG,CAAgB;YAAE,QAAQ,iLAAa,CAAC,KAAK;YAAI;QAAK;IACvE;IAEA,MAAa,cAAc,IAAuB,EAAwB;QACxE,MAAM,OAAO,uHAAE,CAAC,GAAG,CAAC,4IAAa;QACjC,IAAI,CAAC,KAAK,cAAc,EACtB,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,GAAG,CAAc;YAAE,QAAQ,iLAAa;YAAE,KAAK,AAAC,IAAkC,OAA/B,KAAK,cAAc,CAAC,UAAU;YAAI;QAAK;IACxG;AAEF;;;;AAEA,uHAAE,CAAC,IAAI,CAAC,gLAAuB,EAAE,EAAE,CAAC,gBAAgB,gBAAgB","debugId":null}},
    {"offset": {"line": 542, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/services/authentication.service.interface.ts"],"sourcesContent":["import type { AuthenticationData, LoginAuthenticationData, UpdateAuthenticationData } from '@strife/common';\r\nimport { ServiceIdentifier } from 'inversify';\r\nimport { IBaseService } from './base.service.interface';\r\n\r\nexport interface IAuthenticationService extends IBaseService {\r\n  login(data: LoginAuthenticationData): Promise<AuthenticationData>;\r\n  logout(): Promise<void>;\r\n  updateAuthentication(data: UpdateAuthenticationData): Promise<AuthenticationData>;\r\n}\r\n\r\nexport const AuthenticationServiceServiceId: ServiceIdentifier<IAuthenticationService> = Symbol.for('AuthenticationServiceServiceId');"],"names":[],"mappings":";;;;AAUO,MAAM,iCAA4E,OAAO,GAAG,CAAC","debugId":null}},
    {"offset": {"line": 554, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/src/services/authentication.service.ts"],"sourcesContent":["import type { AuthenticationData, LoginAuthenticationData, UpdateAuthenticationData } from '@strife/common';\r\nimport { AuthenticationSchema } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\nimport di from '../di';\r\nimport { UserServiceId, type IUser } from '../user.interface';\r\nimport type { IAuthenticationService } from './authentication.service.interface';\r\nimport { AuthenticationServiceServiceId } from './authentication.service.interface';\r\nimport BaseService from './base.service';\r\n\r\n@injectable()\r\nclass AuthenticationService extends BaseService implements IAuthenticationService {\r\n\r\n  protected override get baseUrl(): string | URL | undefined {\r\n    return `http://localhost:3000/authentication`;\r\n  }\r\n\r\n  public async login(data: LoginAuthenticationData): Promise<AuthenticationData> {\r\n    if (this.user.authentication)\r\n      return Promise.reject();\r\n    \r\n    const authenticationData = await this.post<AuthenticationData>({ schema: AuthenticationSchema, data });\r\n    this.user.login(authenticationData);\r\n    return authenticationData;\r\n  }\r\n\r\n  public async logout(): Promise<void> {\r\n    if (!this.user.authentication)\r\n      return Promise.reject();\r\n\r\n    await this.delete({ url: `/${this.user.authentication.account_id}` });\r\n    this.user.logout();\r\n  }\r\n\r\n  public async updateAuthentication(data: UpdateAuthenticationData): Promise<AuthenticationData> {\r\n    const userService = di.get(UserServiceId);\r\n    if (!userService.authentication)\r\n      return Promise.reject();\r\n\r\n    return this.put<AuthenticationData>({ schema: AuthenticationSchema, url: `/${userService.authentication.account_id}`, data });\r\n  }\r\n\r\n}\r\n\r\ndi.bind(AuthenticationServiceServiceId).to(AuthenticationService).inSingletonScope();"],"names":[],"mappings":";;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;;;;;;;;AAEA,MACM,8BAA8B,gJAAW;IAE7C,IAAuB,UAAoC;QACzD,OAAQ;IACV;IAEA,MAAa,MAAM,IAA6B,EAA+B;QAC7E,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,EAC1B,OAAO,QAAQ,MAAM;QAEvB,MAAM,qBAAqB,MAAM,IAAI,CAAC,IAAI,CAAqB;YAAE,QAAQ,+LAAoB;YAAE;QAAK;QACpG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAChB,OAAO;IACT;IAEA,MAAa,SAAwB;QACnC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAC3B,OAAO,QAAQ,MAAM;QAEvB,MAAM,IAAI,CAAC,MAAM,CAAC;YAAE,KAAK,AAAC,IAAuC,OAApC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU;QAAG;QACnE,IAAI,CAAC,IAAI,CAAC,MAAM;IAClB;IAEA,MAAa,qBAAqB,IAA8B,EAA+B;QAC7F,MAAM,cAAc,uHAAE,CAAC,GAAG,CAAC,4IAAa;QACxC,IAAI,CAAC,YAAY,cAAc,EAC7B,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,GAAG,CAAqB;YAAE,QAAQ,+LAAoB;YAAE,KAAK,AAAC,IAAyC,OAAtC,YAAY,cAAc,CAAC,UAAU;YAAI;QAAK;IAC7H;AAEF;;;;AAEA,uHAAE,CAAC,IAAI,CAAC,8LAA8B,EAAE,EAAE,CAAC,uBAAuB,gBAAgB","debugId":null}},
    {"offset": {"line": 612, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/login/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Alert from '@mui/material/Alert';\r\nimport Button from '@mui/material/Button';\r\nimport Link from '@mui/material/Link';\r\nimport TextField from '@mui/material/TextField';\r\nimport Typography from '@mui/material/Typography';\r\nimport { validateEmail, validatePassword, validateUsername } from '@strife/common';\r\nimport { useRouter } from 'next/navigation';\r\nimport { ChangeEvent, Fragment, useState } from 'react';\r\nimport WindowPage from '../../components/pages/WindowPage';\r\nimport di from '../../src/di';\r\nimport '../../src/user';\r\nimport '../../src/services/account.service';\r\nimport '../../src/services/authentication.service';\r\nimport { AuthenticationServiceServiceId } from '../../src/services/authentication.service.interface';\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [ email, setEmail ] = useState('');\r\n  const [ emailError, setEmailError ] = useState<string | undefined>();\r\n  const [ password, setPassword ] = useState('');\r\n  const [ passwordError, setPasswordError ] = useState<string | undefined>();\r\n  const [ error, setError ] = useState<string | undefined>();\r\n\r\n  return (\r\n    <WindowPage>\r\n      <form className=\"flex flex-col gap-[32px] p-8\" onSubmit={onSubmitLogin}>\r\n        <Typography variant=\"h2\" align=\"center\" fontWeight={700}>strife</Typography>\r\n        <div className=\"flex flex-col gap-[8px]\">\r\n          {\r\n            error == undefined\r\n              ? <Fragment />\r\n              : <Alert variant=\"filled\" severity=\"error\">{error}</Alert>\r\n          }\r\n          <TextField name=\"email\" type=\"email\" value={email} onChange={onChangeEmail} error={emailError != undefined} helperText={emailError} placeholder=\"email\" />\r\n          <TextField name=\"password\" type=\"password\" value={password} onChange={onChangePassword} error={passwordError != undefined} helperText={passwordError} placeholder=\"password\" />\r\n          <Button type=\"submit\">Login</Button>\r\n          <Link href=\"/login\" className=\"text-center\" fontSize={'small'}>Don't have an account yet?</Link>\r\n        </div>\r\n      </form>\r\n    </WindowPage>\r\n  );\r\n\r\n  function onChangeEmail(event: ChangeEvent<HTMLInputElement>): void {\r\n    const email = event.target.value;\r\n    setEmail(email)\r\n    const error = email.length == 0 \r\n      ? undefined\r\n      : validateEmail(email);\r\n    setEmailError(error ? error.message : undefined);\r\n  }\r\n\r\n  function onChangePassword(event: ChangeEvent<HTMLInputElement>): void {\r\n    const password = event.target.value;\r\n    setPassword(password);\r\n    const error = password.length == 0\r\n      ? undefined\r\n      : validatePassword(password);\r\n    setPasswordError(error ? error.message : undefined);\r\n  }\r\n\r\n  async function onSubmitLogin(event: React.FormEvent<HTMLFormElement>): Promise<void> {\r\n    event.preventDefault();\r\n\r\n    if (emailError || passwordError)\r\n      return;\r\n\r\n    const authenticationService = await di.getAsync(AuthenticationServiceServiceId);\r\n\r\n    try {\r\n      const authenticationData = await authenticationService.login({ email, password });\r\n      onLoginSuccess();\r\n    } catch (error: any) {\r\n      console.log(error);\r\n      setError(error);\r\n    }\r\n  }\r\n\r\n  async function onLoginSuccess(): Promise<void> {\r\n      setError(undefined);\r\n      setEmail('');\r\n      setEmailError(undefined);\r\n      setPassword('');\r\n      setPasswordError(undefined);\r\n\r\n      router.push('/home');\r\n  }\r\n\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAfA;;;;;;;;;;;;;;;AAiBe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAE,OAAO,SAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAE,YAAY,cAAe,GAAG,IAAA,yKAAQ;IAC9C,MAAM,CAAE,UAAU,YAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAE,eAAe,iBAAkB,GAAG,IAAA,yKAAQ;IACpD,MAAM,CAAE,OAAO,SAAU,GAAG,IAAA,yKAAQ;IAEpC,qBACE,6LAAC,gJAAU;kBACT,cAAA,6LAAC;YAAK,WAAU;YAA+B,UAAU;;8BACvD,6LAAC,kLAAU;oBAAC,SAAQ;oBAAK,OAAM;oBAAS,YAAY;8BAAK;;;;;;8BACzD,6LAAC;oBAAI,WAAU;;wBAEX,SAAS,0BACL,6LAAC,yKAAQ;;;;iDACT,6LAAC,wKAAK;4BAAC,SAAQ;4BAAS,UAAS;sCAAS;;;;;;sCAEhD,6LAAC,gLAAS;4BAAC,MAAK;4BAAQ,MAAK;4BAAQ,OAAO;4BAAO,UAAU;4BAAe,OAAO,cAAc;4BAAW,YAAY;4BAAY,aAAY;;;;;;sCAChJ,6LAAC,gLAAS;4BAAC,MAAK;4BAAW,MAAK;4BAAW,OAAO;4BAAU,UAAU;4BAAkB,OAAO,iBAAiB;4BAAW,YAAY;4BAAe,aAAY;;;;;;sCAClK,6LAAC,0KAAM;4BAAC,MAAK;sCAAS;;;;;;sCACtB,6LAAC,sKAAI;4BAAC,MAAK;4BAAS,WAAU;4BAAc,UAAU;sCAAS;;;;;;;;;;;;;;;;;;;;;;;;;IAMvE,SAAS,cAAc,KAAoC;QACzD,MAAM,QAAQ,MAAM,MAAM,CAAC,KAAK;QAChC,SAAS;QACT,MAAM,QAAQ,MAAM,MAAM,IAAI,IAC1B,YACA,IAAA,uLAAa,EAAC;QAClB,cAAc,QAAQ,MAAM,OAAO,GAAG;IACxC;IAEA,SAAS,iBAAiB,KAAoC;QAC5D,MAAM,WAAW,MAAM,MAAM,CAAC,KAAK;QACnC,YAAY;QACZ,MAAM,QAAQ,SAAS,MAAM,IAAI,IAC7B,YACA,IAAA,iMAAgB,EAAC;QACrB,iBAAiB,QAAQ,MAAM,OAAO,GAAG;IAC3C;IAEA,eAAe,cAAc,KAAuC;QAClE,MAAM,cAAc;QAEpB,IAAI,cAAc,eAChB;QAEF,MAAM,wBAAwB,MAAM,uHAAE,CAAC,QAAQ,CAAC,8LAA8B;QAE9E,IAAI;YACF,MAAM,qBAAqB,MAAM,sBAAsB,KAAK,CAAC;gBAAE;gBAAO;YAAS;YAC/E;QACF,EAAE,OAAO,OAAY;YACnB,QAAQ,GAAG,CAAC;YACZ,SAAS;QACX;IACF;IAEA,eAAe;QACX,SAAS;QACT,SAAS;QACT,cAAc;QACd,YAAY;QACZ,iBAAiB;QAEjB,OAAO,IAAI,CAAC;IAChB;AAEF;GAxEwB;;QACP,kJAAS;;;KADF","debugId":null}}]
}