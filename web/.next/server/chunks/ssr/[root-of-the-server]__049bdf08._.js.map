{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/DependencyInjection.ts"],"sourcesContent":["import { Container } from 'inversify';\r\n\r\nconst container = new Container();\r\n\r\nexport default container;"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,MAAM,YAAY,IAAI,8KAAS;uCAEhB","debugId":null}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/User.ts"],"sourcesContent":["import { type IUser } from '@interfaces/IUser';\r\nimport { AccountSchema, type AccountData } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport default class User implements IUser {\r\n\r\n  private _account?: AccountData = this.load();\r\n  public get accountData(): AccountData | undefined {\r\n    return this._account;\r\n  }\r\n\r\n  public login(accountData: AccountData): void {\r\n    this._account = accountData;\r\n    localStorage.setItem(typeof User, JSON.stringify(this._account))\r\n  }\r\n\r\n  public logout(): void {\r\n    this._account = undefined;\r\n    localStorage.removeItem(typeof User);\r\n  }\r\n\r\n  private load(): AccountData | undefined {\r\n    if (!localStorage)\r\n      return;\r\n    \r\n    const accountJson = localStorage.getItem(typeof User);\r\n    if (!accountJson)\r\n      return;\r\n\r\n    const accountObject = JSON.parse(accountJson);\r\n    if (!accountObject)\r\n      return;\r\n\r\n    const accountData = AccountSchema.parse(accountObject);\r\n    return accountData;\r\n  }\r\n\r\n}"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;AAAA;;;;AAGe,MAAM;IAEX,WAAyB,IAAI,CAAC,IAAI,GAAG;IAC7C,IAAW,cAAuC;QAChD,OAAO,IAAI,CAAC,QAAQ;IACtB;IAEO,MAAM,WAAwB,EAAQ;QAC3C,IAAI,CAAC,QAAQ,GAAG;QAChB,aAAa,OAAO,CAAC,OAAO,MAAM,KAAK,SAAS,CAAC,IAAI,CAAC,QAAQ;IAChE;IAEO,SAAe;QACpB,IAAI,CAAC,QAAQ,GAAG;QAChB,aAAa,UAAU,CAAC,OAAO;IACjC;IAEQ,OAAgC;QACtC,IAAI,CAAC,cACH;QAEF,MAAM,cAAc,aAAa,OAAO,CAAC,OAAO;QAChD,IAAI,CAAC,aACH;QAEF,MAAM,gBAAgB,KAAK,KAAK,CAAC;QACjC,IAAI,CAAC,eACH;QAEF,MAAM,cAAc,0KAAa,CAAC,KAAK,CAAC;QACxC,OAAO;IACT;AAEF","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/UserInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport UserService from '@/User';\r\nimport { type IUser } from \"@interfaces/IUser\";\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const UserServiceId: ServiceIdentifier<IUser> = Symbol.for('UserServiceId');\r\ndi.bind<IUser>(UserServiceId)\r\n  .to(UserService)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAIO,MAAM,gBAA0C,OAAO,GAAG,CAAC;AAClE,6IAAE,CAAC,IAAI,CAAQ,eACZ,EAAE,CAAC,8HAAW,EACd,gBAAgB","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/services/BaseService.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { UserServiceId } from '@/di/UserInjector';\r\nimport { type IUser } from '@interfaces/IUser';\r\nimport { type IBaseService, type ServiceOptions, type VoidServiceOptions } from '@interfaces/services/IBaseService';\r\n\r\nexport default class BaseService implements IBaseService {\r\n\r\n  private static defaultOptions = {\r\n    url: ''\r\n  };\r\n\r\n  private static defaultInit = {\r\n    headers: { 'Content-Type': 'application/json' }\r\n  };\r\n\r\n  private static defaultBody = JSON.stringify({});\r\n\r\n  private _user: IUser;\r\n  protected get user(): IUser {\r\n    return this._user;\r\n  }\r\n\r\n  public constructor() {\r\n    this._user = di.get(UserServiceId);\r\n  }\r\n\r\n  protected get baseUrl(): string | URL | undefined {\r\n    return undefined;\r\n  }\r\n\r\n  protected async post(options?: VoidServiceOptions): Promise<void>\r\n  protected async post<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async post<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'POST';\r\n    options.init.body = options.data \r\n      ? JSON.stringify(options.data) \r\n      : BaseService.defaultBody;\r\n    return this.fetch(options);\r\n  }\r\n\r\n  protected async delete(options?: VoidServiceOptions): Promise<void>\r\n  protected async delete<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async delete<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'DELETE';\r\n    options.init.body = options.data \r\n      ? JSON.stringify(options.data) \r\n      : BaseService.defaultBody;\r\n    return this.fetch(options);\r\n  }\r\n\r\n  protected async get(options?: VoidServiceOptions): Promise<void>\r\n  protected async get<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async get<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'GET';\r\n    const searchParams = new URLSearchParams(options.data);\r\n    console.log(searchParams.toString());\r\n    options.url = searchParams.size == 0 \r\n      ? options.url\r\n      : `${options.url}?${searchParams.toString()}`;\r\n    return this.fetch(options);\r\n  }\r\n\r\n  protected async put(options?: VoidServiceOptions): Promise<void>\r\n  protected async put<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async put<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'PUT';\r\n    options.init.body = options.data \r\n      ? JSON.stringify(options.data) \r\n      : BaseService.defaultBody;\r\n    return this.fetch(options);\r\n  }\r\n\r\n  private async fetch<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    if (this._user.accountData && this._user.accountData?.authentication?.accessToken) {\r\n      options.init.headers = { ...options.init.headers, ...{ 'Authorization': `Bearer ${this._user.accountData.authentication.accessToken}` } };\r\n    }\r\n\r\n    const url = `${this.baseUrl}${options.url ? options.url : ''}`;\r\n\r\n    const response = await fetch(url, options.init);\r\n    if (!response.ok) {\r\n      const json = await response.json();\r\n      return Promise.reject(json.message);\r\n    }\r\n\r\n    const typed = options as ServiceOptions<TResponse>;\r\n    if (!typed.schema)\r\n      return;\r\n\r\n    const json = await response.json();\r\n    return await typed.schema.parseAsync(json);\r\n  }\r\n\r\n  private filter(data: Record<string, any> | undefined): Record<string, any> | undefined {\r\n    if (!data)\r\n      return undefined;\r\n\r\n    const entries = Object.entries(data).filter(([key, value]): boolean => value !== undefined);\r\n    return Object.fromEntries(entries);\r\n  }\r\n\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/services/AuthenticationService.ts"],"sourcesContent":["import BaseService from '@/services/BaseService';\r\nimport { type IAuthenticationService } from '@interfaces/services/IAuthenticationService';\r\nimport { AccountSchema, type AccountData, type LoginAuthenticationData, type UpdateAuthenticationData } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport default class AuthenticationService extends BaseService implements IAuthenticationService {\r\n\r\n  protected override get baseUrl(): string | URL | undefined {\r\n    return `http://localhost:3000/authentication`;\r\n  }\r\n\r\n  public async login(loginAuthenticationData: LoginAuthenticationData): Promise<AccountData> {\r\n    if (this.user.accountData)\r\n      return Promise.reject();\r\n    \r\n    const accountData = await this.post<AccountData>({ schema: AccountSchema, data: loginAuthenticationData });\r\n    this.user.login(accountData);\r\n    return accountData;\r\n  }\r\n\r\n  public async logout(): Promise<void> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    try {\r\n      await this.delete({ url: `/${this.user.accountData.id}` });\r\n    } finally {\r\n      this.user.logout();\r\n    }\r\n  }\r\n\r\n  public async refresh(): Promise<AccountData> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    const accountData = await this.post<AccountData>({ schema: AccountSchema, url: '/refresh', init: { credentials: 'include' } });\r\n    this.user.login(accountData);\r\n    return accountData;\r\n  }\r\n\r\n  public async updateAuthentication(updateAuthenticationData: UpdateAuthenticationData): Promise<AccountData> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    return this.put<AccountData>({ schema: AccountSchema, url: `/${this.user.accountData.id}`, data: updateAuthenticationData });\r\n  }\r\n\r\n}"],"names":[],"mappings":";;;;;AAAA;AAEA;AAAA;AACA;AAAA;;;;;AAGe,MAAM,8BAA8B,iJAAW;IAE5D,IAAuB,UAAoC;QACzD,OAAO,CAAC,oCAAoC,CAAC;IAC/C;IAEA,MAAa,MAAM,uBAAgD,EAAwB;QACzF,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EACvB,OAAO,QAAQ,MAAM;QAEvB,MAAM,cAAc,MAAM,IAAI,CAAC,IAAI,CAAc;YAAE,QAAQ,0KAAa;YAAE,MAAM;QAAwB;QACxG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAChB,OAAO;IACT;IAEA,MAAa,SAAwB;QACnC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,IAAI;YACF,MAAM,IAAI,CAAC,MAAM,CAAC;gBAAE,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE;YAAC;QAC1D,SAAU;YACR,IAAI,CAAC,IAAI,CAAC,MAAM;QAClB;IACF;IAEA,MAAa,UAAgC;QAC3C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,MAAM,cAAc,MAAM,IAAI,CAAC,IAAI,CAAc;YAAE,QAAQ,0KAAa;YAAE,KAAK;YAAY,MAAM;gBAAE,aAAa;YAAU;QAAE;QAC5H,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAChB,OAAO;IACT;IAEA,MAAa,qBAAqB,wBAAkD,EAAwB;QAC1G,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,GAAG,CAAc;YAAE,QAAQ,0KAAa;YAAE,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE;YAAE,MAAM;QAAyB;IAC5H;AAEF","debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/services/AuthenticationServiceInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport AuthenticationService from '@/services/AuthenticationService';\r\nimport { type IAuthenticationService } from \"@interfaces/services/IAuthenticationService\";\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const AuthenticationServiceServiceId: ServiceIdentifier<IAuthenticationService> = Symbol.for('AuthenticationServiceServiceId');\r\ndi.bind<IAuthenticationService>(AuthenticationServiceServiceId)\r\n  .to(AuthenticationService)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAIO,MAAM,iCAA4E,OAAO,GAAG,CAAC;AACpG,6IAAE,CAAC,IAAI,CAAyB,gCAC7B,EAAE,CAAC,2JAAqB,EACxB,gBAAgB","debugId":null}},
    {"offset": {"line": 296, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/layout/Window.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/root/components/layout/Window.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/root/components/layout/Window.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/layout/Window.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/root/components/layout/Window.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/root/components/layout/Window.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 324, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/Logo.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/root/components/Logo.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/root/components/Logo.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4R,GACzT,0DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/Logo.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/root/components/Logo.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/root/components/Logo.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwQ,GACrS,sCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/page/Page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/root/components/page/Page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/root/components/page/Page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiS,GAC9T,+DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/page/Page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/root/components/page/Page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/root/components/page/Page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6Q,GAC1S,2CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/login/page.tsx"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { AuthenticationServiceServiceId } from '@/di/services/AuthenticationServiceInjector';\r\nimport Window from '@components/layout/Window';\r\nimport Logo from '@components/Logo';\r\nimport { Alert, Box, Button, FormControl, FormHelperText, Input, InputLabel, Link } from '@mui/material';\r\nimport Page from '@root/components/page/Page';\r\nimport { validateEmail, validatePassword } from '@strife/common';\r\nimport { useRouter } from 'next/navigation';\r\nimport React from 'react';\r\n\r\nconst DefaultRedirect = '/';\r\n\r\nexport function LoginPage(): React.JSX.Element {\r\n  const authenticationService = di.get(AuthenticationServiceServiceId);\r\n  const router = useRouter();\r\n  const [ email, setEmail ] = React.useState('');\r\n  const [ emailError, setEmailError ] = React.useState<string | undefined>();\r\n  const [ password, setPassword ] = React.useState('');\r\n  const [ passwordError, setPasswordError ] = React.useState<string | undefined>();\r\n  const [ error, setError ] = React.useState<string | undefined>();\r\n\r\n  return <Page>\r\n    <Window>\r\n      <Box display='flex' flexDirection='column' gap='32px' paddingX='32px' paddingY='64px'>\r\n        <Logo />\r\n        <Box display='flex' flexDirection='column' gap='16px'>\r\n          {\r\n            error\r\n              ? <Alert variant='filled' severity='error'>{error}</Alert>\r\n              : undefined\r\n          }\r\n          <Box id='login-form' component='form' display='flex' flexDirection='column' gap='16px' paddingY='16px' onSubmit={onSubmitLogin}>\r\n            <FormControl>\r\n              <InputLabel htmlFor='email'>Email</InputLabel>\r\n              <Input id='email' name='email' type='email' value={email} onChange={onChangeEmail} error={emailError != undefined} placeholder='email' />\r\n              <FormHelperText error={true}>{emailError}</FormHelperText>\r\n            </FormControl>\r\n            <FormControl>\r\n              <InputLabel htmlFor='password'>Password</InputLabel>\r\n              <Input id='password' name='password' type='password' value={password} onChange={onChangePassword} error={passwordError != undefined} placeholder='password' />\r\n              <FormHelperText error={true}>{passwordError}</FormHelperText>\r\n            </FormControl>\r\n          </Box>\r\n          <Button type='submit' form='login-form' variant='contained'>Login</Button>\r\n          <Link href='/register' className='text-center' fontSize='small'>Don't have an account yet?</Link>\r\n        </Box>\r\n      </Box>\r\n    </Window>\r\n  </Page>;\r\n\r\n  function onChangeEmail(event: React.ChangeEvent<HTMLInputElement>): void {\r\n    const email = event.target.value;\r\n    setEmail(email)\r\n    const error = email.length == 0 \r\n      ? undefined\r\n      : validateEmail(email);\r\n    setEmailError(error ? error.message : undefined);\r\n  }\r\n\r\n  function onChangePassword(event: React.ChangeEvent<HTMLInputElement>): void {\r\n    const password = event.target.value;\r\n    setPassword(password);\r\n    const error = password.length == 0\r\n      ? undefined\r\n      : validatePassword(password);\r\n    setPasswordError(error ? error.message : undefined);\r\n  }\r\n\r\n  async function onSubmitLogin(event: React.FormEvent<HTMLFormElement>): Promise<void> {\r\n    event.preventDefault();\r\n\r\n    if (emailError || passwordError)\r\n      return;\r\n\r\n    try {\r\n      const accountData = await authenticationService.login({ email, password });\r\n      onLoginSuccess();\r\n    } catch (error: any) {\r\n      console.log(error);\r\n      setError(error);\r\n    }\r\n  }\r\n\r\n  async function onLoginSuccess(): Promise<void> {\r\n    setError(undefined);\r\n    setEmail('');\r\n    setEmailError(undefined);\r\n    setPassword('');\r\n    setPasswordError(undefined);\r\n\r\n    if (window && window.location && window.location.search) {\r\n      const urlSearchParams = new URLSearchParams(window.location.search);\r\n      const href = urlSearchParams.get('redirect');\r\n      router.push(href ?? DefaultRedirect);\r\n    }\r\n\r\n    router.push(DefaultRedirect);\r\n  }\r\n\r\n}\r\n\r\nexport default LoginPage;"],"names":[],"mappings":"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","debugId":null}}]
}