{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/DependencyInjection.ts"],"sourcesContent":["import { Container } from 'inversify';\r\n\r\nconst container = new Container();\r\n\r\nexport default container;"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,MAAM,YAAY,IAAI,8KAAS;uCAEhB","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/User.ts"],"sourcesContent":["import { Account } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport default class User {\r\n\r\n  private _accountData?: Account.Data = this.load();\r\n  public get accountData(): Account.Data | undefined {\r\n    return this._accountData;\r\n  }\r\n\r\n  public login(accountData: Account.Data): void {\r\n    this._accountData = accountData;\r\n    localStorage.setItem(typeof User, JSON.stringify(this._accountData))\r\n  }\r\n\r\n  public logout(): void {\r\n    this._accountData = undefined;\r\n    localStorage.removeItem(typeof User);\r\n  }\r\n\r\n  private load(): Account.Data | undefined {\r\n    if (!localStorage)\r\n      return;\r\n    \r\n    const accountJson = localStorage.getItem(typeof User);\r\n    if (!accountJson)\r\n      return;\r\n\r\n    const accountObject = JSON.parse(accountJson);\r\n    if (!accountObject)\r\n      return;\r\n\r\n    const accountData = Account.Schema.parse(accountObject);\r\n    return accountData;\r\n  }\r\n\r\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AAAA;;;;AAGe,MAAM;IAEX,eAA8B,IAAI,CAAC,IAAI,GAAG;IAClD,IAAW,cAAwC;QACjD,OAAO,IAAI,CAAC,YAAY;IAC1B;IAEO,MAAM,WAAyB,EAAQ;QAC5C,IAAI,CAAC,YAAY,GAAG;QACpB,aAAa,OAAO,CAAC,OAAO,MAAM,KAAK,SAAS,CAAC,IAAI,CAAC,YAAY;IACpE;IAEO,SAAe;QACpB,IAAI,CAAC,YAAY,GAAG;QACpB,aAAa,UAAU,CAAC,OAAO;IACjC;IAEQ,OAAiC;QACvC,IAAI,CAAC,cACH;QAEF,MAAM,cAAc,aAAa,OAAO,CAAC,OAAO;QAChD,IAAI,CAAC,aACH;QAEF,MAAM,gBAAgB,KAAK,KAAK,CAAC;QACjC,IAAI,CAAC,eACH;QAEF,MAAM,cAAc,2MAAO,CAAC,MAAM,CAAC,KAAK,CAAC;QACzC,OAAO;IACT;AAEF","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/UserInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport User from '@/User';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const UserServiceId: ServiceIdentifier<User> = Symbol.for('UserServiceId');\r\ndi.bind<User>(UserServiceId)\r\n  .to(User)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,gBAAyC,OAAO,GAAG,CAAC;AACjE,6IAAE,CAAC,IAAI,CAAO,eACX,EAAE,CAAC,8HAAI,EACP,gBAAgB","debugId":null}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/services/BaseService.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { UserServiceId } from '@/di/UserInjector';\r\nimport User from '@/User';\r\nimport { type ZodType } from 'zod';\r\n\r\nexport type BaseServiceOptions = {\r\n  url?: string | URL | undefined,\r\n  data?: Record<string, any>,\r\n  init?: RequestInit\r\n}\r\n\r\nexport type VoidServiceOptions = BaseServiceOptions;\r\nexport type ServiceOptions<TResponse> = BaseServiceOptions & { schema: ZodType<TResponse> };\r\n\r\nexport class BaseService {\r\n\r\n  private static defaultOptions: BaseServiceOptions = {\r\n    url: ''\r\n  };\r\n\r\n  private static defaultInit: RequestInit = {\r\n    headers: { 'Content-Type': 'application/json' }\r\n  };\r\n\r\n  private static defaultBody = JSON.stringify({});\r\n\r\n  private _user = di.get(UserServiceId);\r\n  protected get user(): User {\r\n    return this._user;\r\n  }\r\n\r\n  protected get baseUrl(): string | URL | undefined {\r\n    return undefined;\r\n  }\r\n\r\n  protected async post(options?: VoidServiceOptions): Promise<void>\r\n  protected async post<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async post<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'POST';\r\n    options.init.body = options.data \r\n      ? JSON.stringify(options.data) \r\n      : BaseService.defaultBody;\r\n    return this.fetch(options);\r\n  }\r\n\r\n  protected async delete(options?: VoidServiceOptions): Promise<void>\r\n  protected async delete<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async delete<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'DELETE';\r\n    options.init.body = options.data \r\n      ? JSON.stringify(options.data) \r\n      : BaseService.defaultBody;\r\n    return this.fetch(options);\r\n  }\r\n\r\n  protected async get(options?: VoidServiceOptions): Promise<void>\r\n  protected async get<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async get<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'GET';\r\n    const searchParams = new URLSearchParams(options.data);\r\n    options.url = searchParams.size == 0 \r\n      ? options.url\r\n      : `${options.url}?${searchParams.toString()}`;\r\n    return this.fetch(options);\r\n  }\r\n\r\n  protected async put(options?: VoidServiceOptions): Promise<void>\r\n  protected async put<TResponse>(options?: ServiceOptions<TResponse>): Promise<TResponse>\r\n  protected async put<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    options.init.method = 'PUT';\r\n    options.init.body = options.data \r\n      ? JSON.stringify(options.data) \r\n      : BaseService.defaultBody;\r\n    return this.fetch(options);\r\n  }\r\n\r\n  private async fetch<TResponse>(options?: VoidServiceOptions | ServiceOptions<TResponse>): Promise<void | TResponse> {\r\n    const self = this;\r\n    options = { ...BaseService.defaultOptions, ...options };\r\n    options.data = this.filter(options.data);\r\n    options.init = { ...BaseService.defaultInit, ...options.init };\r\n    if (this._user.accountData && this._user.accountData?.authentication?.accessToken) {\r\n      options.init.headers = { ...options.init.headers, ...{ 'Authorization': `Bearer ${this._user.accountData.authentication.accessToken}` } };\r\n    }\r\n\r\n    const url = `${this.baseUrl}${options.url ? options.url : ''}`;\r\n    const response = await fetch(url, options.init);\r\n\r\n    if (!response.ok) {\r\n      const json = await response.json();\r\n      return Promise.reject(json.message);\r\n    }\r\n    \r\n    const typed = options as ServiceOptions<TResponse>;\r\n    if (!typed.schema)\r\n      return;\r\n\r\n    const json = await response.json();\r\n    return await typed.schema.parseAsync(json);\r\n  }\r\n\r\n  private filter(data: Record<string, any> | undefined): Record<string, any> | undefined {\r\n    if (!data)\r\n      return undefined;\r\n\r\n    const entries = Object.entries(data).filter(([key, value]): boolean => value !== undefined);\r\n    return Object.fromEntries(entries);\r\n  }\r\n\r\n}\r\n\r\nexport default BaseService;"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAaO,MAAM;IAEX,OAAe,iBAAqC;QAClD,KAAK;IACP,EAAE;IAEF,OAAe,cAA2B;QACxC,SAAS;YAAE,gBAAgB;QAAmB;IAChD,EAAE;IAEF,OAAe,cAAc,KAAK,SAAS,CAAC,CAAC,GAAG;IAExC,QAAQ,6IAAE,CAAC,GAAG,CAAC,kJAAa,EAAE;IACtC,IAAc,OAAa;QACzB,OAAO,IAAI,CAAC,KAAK;IACnB;IAEA,IAAc,UAAoC;QAChD,OAAO;IACT;IAIA,MAAgB,KAAgB,OAAwD,EAA6B;QACnH,UAAU;YAAE,GAAG,YAAY,cAAc;YAAE,GAAG,OAAO;QAAC;QACtD,QAAQ,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI;QACvC,QAAQ,IAAI,GAAG;YAAE,GAAG,YAAY,WAAW;YAAE,GAAG,QAAQ,IAAI;QAAC;QAC7D,QAAQ,IAAI,CAAC,MAAM,GAAG;QACtB,QAAQ,IAAI,CAAC,IAAI,GAAG,QAAQ,IAAI,GAC5B,KAAK,SAAS,CAAC,QAAQ,IAAI,IAC3B,YAAY,WAAW;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB;IAIA,MAAgB,OAAkB,OAAwD,EAA6B;QACrH,UAAU;YAAE,GAAG,YAAY,cAAc;YAAE,GAAG,OAAO;QAAC;QACtD,QAAQ,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI;QACvC,QAAQ,IAAI,GAAG;YAAE,GAAG,YAAY,WAAW;YAAE,GAAG,QAAQ,IAAI;QAAC;QAC7D,QAAQ,IAAI,CAAC,MAAM,GAAG;QACtB,QAAQ,IAAI,CAAC,IAAI,GAAG,QAAQ,IAAI,GAC5B,KAAK,SAAS,CAAC,QAAQ,IAAI,IAC3B,YAAY,WAAW;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB;IAIA,MAAgB,IAAe,OAAwD,EAA6B;QAClH,UAAU;YAAE,GAAG,YAAY,cAAc;YAAE,GAAG,OAAO;QAAC;QACtD,QAAQ,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI;QACvC,QAAQ,IAAI,GAAG;YAAE,GAAG,YAAY,WAAW;YAAE,GAAG,QAAQ,IAAI;QAAC;QAC7D,QAAQ,IAAI,CAAC,MAAM,GAAG;QACtB,MAAM,eAAe,IAAI,gBAAgB,QAAQ,IAAI;QACrD,QAAQ,GAAG,GAAG,aAAa,IAAI,IAAI,IAC/B,QAAQ,GAAG,GACX,GAAG,QAAQ,GAAG,CAAC,CAAC,EAAE,aAAa,QAAQ,IAAI;QAC/C,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB;IAIA,MAAgB,IAAe,OAAwD,EAA6B;QAClH,UAAU;YAAE,GAAG,YAAY,cAAc;YAAE,GAAG,OAAO;QAAC;QACtD,QAAQ,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI;QACvC,QAAQ,IAAI,GAAG;YAAE,GAAG,YAAY,WAAW;YAAE,GAAG,QAAQ,IAAI;QAAC;QAC7D,QAAQ,IAAI,CAAC,MAAM,GAAG;QACtB,QAAQ,IAAI,CAAC,IAAI,GAAG,QAAQ,IAAI,GAC5B,KAAK,SAAS,CAAC,QAAQ,IAAI,IAC3B,YAAY,WAAW;QAC3B,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB;IAEA,MAAc,MAAiB,OAAwD,EAA6B;QAClH,MAAM,OAAO,IAAI;QACjB,UAAU;YAAE,GAAG,YAAY,cAAc;YAAE,GAAG,OAAO;QAAC;QACtD,QAAQ,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI;QACvC,QAAQ,IAAI,GAAG;YAAE,GAAG,YAAY,WAAW;YAAE,GAAG,QAAQ,IAAI;QAAC;QAC7D,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,gBAAgB,aAAa;YACjF,QAAQ,IAAI,CAAC,OAAO,GAAG;gBAAE,GAAG,QAAQ,IAAI,CAAC,OAAO;gBAAE,GAAG;oBAAE,iBAAiB,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,EAAE;gBAAC,CAAC;YAAC;QAC1I;QAEA,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,QAAQ,GAAG,GAAG,QAAQ,GAAG,GAAG,IAAI;QAC9D,MAAM,WAAW,MAAM,MAAM,KAAK,QAAQ,IAAI;QAE9C,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,OAAO,QAAQ,MAAM,CAAC,KAAK,OAAO;QACpC;QAEA,MAAM,QAAQ;QACd,IAAI,CAAC,MAAM,MAAM,EACf;QAEF,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,MAAM,MAAM,MAAM,CAAC,UAAU,CAAC;IACvC;IAEQ,OAAO,IAAqC,EAAmC;QACrF,IAAI,CAAC,MACH,OAAO;QAET,MAAM,UAAU,OAAO,OAAO,CAAC,MAAM,MAAM,CAAC,CAAC,CAAC,KAAK,MAAM,GAAc,UAAU;QACjF,OAAO,OAAO,WAAW,CAAC;IAC5B;AAEF;uCAEe","debugId":null}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/services/ProjectService.ts"],"sourcesContent":["import BaseService from '@/services/BaseService';\r\nimport { Project } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport class ProjectService extends BaseService {\r\n\r\n  protected override get baseUrl(): string | URL | undefined {\r\n    return `http://localhost:3000/projects`;\r\n  }\r\n\r\n  public createProject(createData: Project.CreateData): Promise<Project.Data> {\r\n    return this.post({ schema: Project.Schema, data: createData });\r\n  }\r\n\r\n  public deleteProject(projectId: string): Promise<void> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    return this.delete({ url: `/${projectId}` });\r\n  }\r\n\r\n  public getProject(projectId: string): Promise<Project.Data> {\r\n    return this.get({ schema: Project.Schema, url: `/${projectId}` });\r\n  }\r\n\r\n  public getProjects(getData: Project.GetData): Promise<Project.Data[]> {\r\n    return this.get({ schema: Project.Schema.array(), data: getData });\r\n  }\r\n\r\n  public updateProject(projectId: string, updateData: Project.UpdateData): Promise<Project.Data> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    return this.put({ schema: Project.Schema, url: `/${projectId}`, data: updateData });\r\n  }\r\n\r\n}\r\n\r\nexport default ProjectService;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAGO,MAAM,uBAAuB,iJAAW;IAE7C,IAAuB,UAAoC;QACzD,OAAO,CAAC,8BAA8B,CAAC;IACzC;IAEO,cAAc,UAA8B,EAAyB;QAC1E,OAAO,IAAI,CAAC,IAAI,CAAC;YAAE,QAAQ,2MAAO,CAAC,MAAM;YAAE,MAAM;QAAW;IAC9D;IAEO,cAAc,SAAiB,EAAiB;QACrD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,MAAM,CAAC;YAAE,KAAK,CAAC,CAAC,EAAE,WAAW;QAAC;IAC5C;IAEO,WAAW,SAAiB,EAAyB;QAC1D,OAAO,IAAI,CAAC,GAAG,CAAC;YAAE,QAAQ,2MAAO,CAAC,MAAM;YAAE,KAAK,CAAC,CAAC,EAAE,WAAW;QAAC;IACjE;IAEO,YAAY,OAAwB,EAA2B;QACpE,OAAO,IAAI,CAAC,GAAG,CAAC;YAAE,QAAQ,2MAAO,CAAC,MAAM,CAAC,KAAK;YAAI,MAAM;QAAQ;IAClE;IAEO,cAAc,SAAiB,EAAE,UAA8B,EAAyB;QAC7F,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,GAAG,CAAC;YAAE,QAAQ,2MAAO,CAAC,MAAM;YAAE,KAAK,CAAC,CAAC,EAAE,WAAW;YAAE,MAAM;QAAW;IACnF;AAEF;;;;uCAEe","debugId":null}},
    {"offset": {"line": 271, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/services/ProjectServiceInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport ProjectService from '@/services/ProjectService';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const ProjectServiceServiceId: ServiceIdentifier<ProjectService> = Symbol.for('ProjectServiceServiceId');\r\ndi.bind<ProjectService>(ProjectServiceServiceId)\r\n  .to(ProjectService)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,0BAA6D,OAAO,GAAG,CAAC;AACrF,6IAAE,CAAC,IAAI,CAAiB,yBACrB,EAAE,CAAC,oJAAc,EACjB,gBAAgB","debugId":null}},
    {"offset": {"line": 285, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/generic/EnumTabs.tsx"],"sourcesContent":["import { Tab, Tabs, type TabsProps } from \"@mui/material\";\r\nimport React from 'react';\r\n\r\nexport type EnumType = { [key: string]: number | string }\r\n\r\nexport interface EnumTabsProps<TEnum extends EnumType> extends TabsProps {\r\n  type: TEnum;\r\n}\r\n\r\nexport default function EnumTabs<TEnum extends EnumType>({ type, ...tabsProps }: EnumTabsProps<TEnum>): React.JSX.Element {\r\n  const entries = Object.entries(type)\r\n    .filter(([key, value]): boolean => typeof value === 'number');\r\n  const children = entries.map(([key, value], index: number): React.ReactNode => <Tab key={index} label={key} value={value} />);\r\n  return <Tabs {...tabsProps}>\r\n    {children}\r\n  </Tabs>;\r\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;;;AASe,SAAS,SAAiC,EAAE,IAAI,EAAE,GAAG,WAAiC;IACnG,MAAM,UAAU,OAAO,OAAO,CAAC,MAC5B,MAAM,CAAC,CAAC,CAAC,KAAK,MAAM,GAAc,OAAO,UAAU;IACtD,MAAM,WAAW,QAAQ,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM,EAAE,sBAAmC,8OAAC,+LAAG;YAAa,OAAO;YAAK,OAAO;WAA1B;;;;;IACzF,qBAAO,8OAAC,mMAAI;QAAE,GAAG,SAAS;kBACvB;;;;;;AAEL","debugId":null}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/managers/ContextMenuManager.ts"],"sourcesContent":["import { type MenuProps } from '@mui/material';\r\nimport { Event } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\n\r\nexport interface ContextMenuData {\r\n  event: React.MouseEvent,\r\n  menuProps?: MenuProps,\r\n  items: React.ReactNode[]\r\n}\r\n\r\n@injectable()\r\nexport class ContextMenuManager {\r\n\r\n  private _version = 0;\r\n  public get version(): number {\r\n    return this._version;\r\n  }\r\n\r\n  private _contextMenuData?: ContextMenuData;\r\n  public get contextMenuData(): ContextMenuData | undefined {\r\n    return this._contextMenuData;\r\n  }\r\n\r\n  private _contextMenuDataChangedEvent = new Event.Action<[ ContextMenuData | undefined ]>();\r\n  public get contextMenuDataChangedEvent(): Event.IAction<[ ContextMenuData | undefined ]> {\r\n    return this._contextMenuDataChangedEvent;\r\n  }\r\n\r\n  public request(contextMenuData: ContextMenuData): void {\r\n    this._version++;\r\n    this._contextMenuData = contextMenuData;\r\n    this._contextMenuDataChangedEvent.invoke(undefined, this._contextMenuData);\r\n  }\r\n\r\n  public dismiss(): void {\r\n    this._version++;\r\n    this._contextMenuData = undefined;\r\n    this._contextMenuDataChangedEvent.invoke(undefined, this._contextMenuData);\r\n  }\r\n\r\n}\r\n\r\nexport default ContextMenuManager;"],"names":[],"mappings":";;;;;;;AACA;AAAA;AACA;AAAA;;;;AASO,MAAM;IAEH,WAAW,EAAE;IACrB,IAAW,UAAkB;QAC3B,OAAO,IAAI,CAAC,QAAQ;IACtB;IAEQ,iBAAmC;IAC3C,IAAW,kBAA+C;QACxD,OAAO,IAAI,CAAC,gBAAgB;IAC9B;IAEQ,+BAA+B,IAAI,6LAAK,CAAC,MAAM,GAAoC;IAC3F,IAAW,8BAA8E;QACvF,OAAO,IAAI,CAAC,4BAA4B;IAC1C;IAEO,QAAQ,eAAgC,EAAQ;QACrD,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,4BAA4B,CAAC,MAAM,CAAC,WAAW,IAAI,CAAC,gBAAgB;IAC3E;IAEO,UAAgB;QACrB,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,4BAA4B,CAAC,MAAM,CAAC,WAAW,IAAI,CAAC,gBAAgB;IAC3E;AAEF;;;;uCAEe","debugId":null}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/managers/ContextMenuManagerInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport ContextMenuManager from '@/managers/ContextMenuManager';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const ContextMenuManagerServiceId: ServiceIdentifier<ContextMenuManager> = Symbol.for('ContextMenuManagerServiceId');\r\ndi.bind<ContextMenuManager>(ContextMenuManagerServiceId)\r\n  .to(ContextMenuManager)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,8BAAqE,OAAO,GAAG,CAAC;AAC7F,6IAAE,CAAC,IAAI,CAAqB,6BACzB,EAAE,CAAC,wJAAkB,EACrB,gBAAgB","debugId":null}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/ContextMenu.tsx"],"sourcesContent":["'use client'\r\n\r\nimport di from '@/DependencyInjection';\r\nimport { ContextMenuManagerServiceId } from '@/di/managers/ContextMenuManagerInjector';\r\nimport '@/managers/ContextMenuManager';\r\nimport { type IContextMenuData } from '@interfaces/managers/IContextMenuManager';\r\nimport { Menu, type MenuProps } from '@mui/material';\r\nimport React from 'react';\r\n\r\nexport interface ContextMenuProps extends Partial<MenuProps> {}\r\n\r\nexport function ContextMenu({ ...menuProps }: ContextMenuProps): React.JSX.Element {\r\n\r\n  const contextMenuManager = di.get(ContextMenuManagerServiceId);\r\n  const [ contextMenuData, setContextMenuData ] = React.useState<IContextMenuData | undefined>();\r\n  React.useEffect(initializationEffect, []);\r\n\r\n  let { open, anchorReference, anchorPosition, ...otherMenuProps } = { ...menuProps, ...contextMenuData?.menuProps };\r\n\r\n  open = open ?? contextMenuData != undefined;\r\n  anchorReference = anchorReference ?? 'anchorPosition';\r\n  anchorPosition = anchorPosition ?? { top: contextMenuData?.event.clientY ?? 0, left: contextMenuData?.event.clientX ?? 0 };\r\n\r\n  return <Menu key={contextMenuManager.version} open={open} onClose={onClose} anchorReference={anchorReference} anchorPosition={anchorPosition} {...otherMenuProps}>\r\n    {contextMenuData?.content}\r\n  </Menu>\r\n\r\n  function initializationEffect(): () => void {\r\n    setContextMenuData(contextMenuManager.contextMenuData);\r\n    contextMenuManager.contextMenuDataChangedEvent.add(setContextMenuData);\r\n    return cleanupEffect;\r\n  }\r\n\r\n  function cleanupEffect(): void {\r\n    contextMenuManager.contextMenuDataChangedEvent.remove(setContextMenuData);\r\n  }\r\n\r\n  function onClose(): void {\r\n    contextMenuManager.dismiss();\r\n  }\r\n  \r\n}\r\n\r\nexport default ContextMenu;"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AACA;AAPA;;;;;;;AAWO,SAAS,YAAY,EAAE,GAAG,WAA6B;IAE5D,MAAM,qBAAqB,6IAAE,CAAC,GAAG,CAAC,0LAA2B;IAC7D,MAAM,CAAE,iBAAiB,mBAAoB,GAAG,gNAAK,CAAC,QAAQ;IAC9D,gNAAK,CAAC,SAAS,CAAC,sBAAsB,EAAE;IAExC,IAAI,EAAE,IAAI,EAAE,eAAe,EAAE,cAAc,EAAE,GAAG,gBAAgB,GAAG;QAAE,GAAG,SAAS;QAAE,GAAG,iBAAiB,SAAS;IAAC;IAEjH,OAAO,QAAQ,mBAAmB;IAClC,kBAAkB,mBAAmB;IACrC,iBAAiB,kBAAkB;QAAE,KAAK,iBAAiB,MAAM,WAAW;QAAG,MAAM,iBAAiB,MAAM,WAAW;IAAE;IAEzH,qBAAO,8OAAC,mMAAI;QAAkC,MAAM;QAAM,SAAS;QAAS,iBAAiB;QAAiB,gBAAgB;QAAiB,GAAG,cAAc;kBAC7J,iBAAiB;OADF,mBAAmB,OAAO;;;;;;;IAI5C,SAAS;QACP,mBAAmB,mBAAmB,eAAe;QACrD,mBAAmB,2BAA2B,CAAC,GAAG,CAAC;QACnD,OAAO;IACT;IAEA,SAAS;QACP,mBAAmB,2BAA2B,CAAC,MAAM,CAAC;IACxD;IAEA,SAAS;QACP,mBAAmB,OAAO;IAC5B;AAEF;uCAEe","debugId":null}},
    {"offset": {"line": 441, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/services/AuthenticationService.ts"],"sourcesContent":["import BaseService from '@/services/BaseService';\r\nimport { Account, Authentication } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport class AuthenticationService extends BaseService {\r\n\r\n  protected override get baseUrl(): string | URL | undefined {\r\n    return `http://localhost:3000/authentication`;\r\n  }\r\n\r\n  public async login(loginData: Authentication.LoginData): Promise<Account.Data> {\r\n    if (this.user.accountData)\r\n      return Promise.reject();\r\n    \r\n    const accountData = await this.post({ schema: Account.Schema, data: loginData });\r\n    this.user.login(accountData);\r\n    return accountData;\r\n  }\r\n\r\n  public async logout(): Promise<void> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    try {\r\n      await this.delete({ url: `/${this.user.accountData.id}` });\r\n    } finally {\r\n      this.user.logout();\r\n    }\r\n  }\r\n\r\n  public async refresh(): Promise<Account.Data> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    const accountData = await this.post({ schema: Account.Schema, url: '/refresh', init: { credentials: 'include' } });\r\n    this.user.login(accountData);\r\n    return accountData;\r\n  }\r\n\r\n  public async updateAuthentication(updateData: Authentication.UpdateData): Promise<Account.Data> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    return this.put({ schema: Account.Schema, url: `/${this.user.accountData.id}`, data: updateData });\r\n  }\r\n\r\n}\r\n\r\nexport default AuthenticationService;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAGO,MAAM,8BAA8B,iJAAW;IAEpD,IAAuB,UAAoC;QACzD,OAAO,CAAC,oCAAoC,CAAC;IAC/C;IAEA,MAAa,MAAM,SAAmC,EAAyB;QAC7E,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EACvB,OAAO,QAAQ,MAAM;QAEvB,MAAM,cAAc,MAAM,IAAI,CAAC,IAAI,CAAC;YAAE,QAAQ,2MAAO,CAAC,MAAM;YAAE,MAAM;QAAU;QAC9E,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAChB,OAAO;IACT;IAEA,MAAa,SAAwB;QACnC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,IAAI;YACF,MAAM,IAAI,CAAC,MAAM,CAAC;gBAAE,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE;YAAC;QAC1D,SAAU;YACR,IAAI,CAAC,IAAI,CAAC,MAAM;QAClB;IACF;IAEA,MAAa,UAAiC;QAC5C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,MAAM,cAAc,MAAM,IAAI,CAAC,IAAI,CAAC;YAAE,QAAQ,2MAAO,CAAC,MAAM;YAAE,KAAK;YAAY,MAAM;gBAAE,aAAa;YAAU;QAAE;QAChH,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;QAChB,OAAO;IACT;IAEA,MAAa,qBAAqB,UAAqC,EAAyB;QAC9F,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,GAAG,CAAC;YAAE,QAAQ,2MAAO,CAAC,MAAM;YAAE,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,EAAE;YAAE,MAAM;QAAW;IAClG;AAEF;;;;uCAEe","debugId":null}},
    {"offset": {"line": 509, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/services/AuthenticationServiceInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport AuthenticationService from '@/services/AuthenticationService';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const AuthenticationServiceServiceId: ServiceIdentifier<AuthenticationService> = Symbol.for('AuthenticationServiceServiceId');\r\ndi.bind<AuthenticationService>(AuthenticationServiceServiceId)\r\n  .to(AuthenticationService)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,iCAA2E,OAAO,GAAG,CAAC;AACnG,6IAAE,CAAC,IAAI,CAAwB,gCAC5B,EAAE,CAAC,2JAAqB,EACxB,gBAAgB","debugId":null}},
    {"offset": {"line": 523, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/account/AccountAvatar.tsx"],"sourcesContent":["import { Person as PersonIcon } from '@mui/icons-material';\r\nimport { Avatar, type AvatarProps } from '@mui/material';\r\nimport { Account } from '@strife/common';\r\nimport React from 'react';\r\n\r\nexport interface AccountAvatarProps extends AvatarProps {\r\n  accountData: Account.Data\r\n}\r\n\r\nexport function AccountAvatar({ accountData, ...avatarProps }: AccountAvatarProps): React.JSX.Element {\r\n  return <Avatar {...avatarProps}>\r\n    <PersonIcon />\r\n  </Avatar>;\r\n}\r\n\r\nexport default AccountAvatar;"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAQO,SAAS,cAAc,EAAE,WAAW,EAAE,GAAG,aAAiC;IAC/E,qBAAO,8OAAC,2MAAM;QAAE,GAAG,WAAW;kBAC5B,cAAA,8OAAC,sKAAU;;;;;;;;;;AAEf;uCAEe","debugId":null}},
    {"offset": {"line": 554, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/Logo.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Typography, type TypographyProps } from '@mui/material';\r\nimport React from 'react';\r\n\r\nexport interface LogoProps extends TypographyProps {}\r\n\r\nexport function Logo({ ...typographyProps }: LogoProps): React.JSX.Element {\r\n  return <Typography component='a' href='/' variant=\"h2\" align=\"center\" fontWeight={700} {...typographyProps}>strife</Typography>;\r\n}\r\n\r\nexport default Logo;"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAOO,SAAS,KAAK,EAAE,GAAG,iBAA4B;IACpD,qBAAO,8OAAC,2NAAU;QAAC,WAAU;QAAI,MAAK;QAAI,SAAQ;QAAK,OAAM;QAAS,YAAY;QAAM,GAAG,eAAe;kBAAE;;;;;;AAC9G;uCAEe","debugId":null}},
    {"offset": {"line": 603, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/navigation/PrimaryAppBar.tsx"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { AuthenticationServiceServiceId } from '@/di/services/AuthenticationServiceInjector';\r\nimport { UserServiceId } from '@/di/UserInjector';\r\nimport AccountAvatar from '@components/account/AccountAvatar';\r\nimport Logo from '@components/Logo';\r\nimport { AppBar, Box, Button, Divider, IconButton, Menu, MenuItem, Toolbar, type AppBarProps } from '@mui/material';\r\nimport { useRouter } from 'next/navigation';\r\nimport React from 'react';\r\n\r\nexport interface PrimaryAppBarProps extends AppBarProps {}\r\n\r\nexport default function PrimaryAppBar({ children, ...appBarProps }: PrimaryAppBarProps): React.JSX.Element {\r\n  const user = di.get(UserServiceId);\r\n  const authenticationService = di.get(AuthenticationServiceServiceId);\r\n  const router = useRouter();\r\n  const [ isUserMenuOpen, setIsUserMenuOpen ] = React.useState(false);\r\n  const userMenuAchorRef = React.useRef<HTMLButtonElement | null>(null);\r\n\r\n  return <AppBar position='static' {...appBarProps}>\r\n    <Toolbar>\r\n      <Logo align='left' variant='h6' />\r\n      <Box sx={{ flexGrow: 1 }}>{children}</Box>\r\n      {\r\n        user && user.accountData\r\n          ? <React.Fragment>\r\n              <IconButton ref={userMenuAchorRef} onClick={onClickOpenUserMenu}>\r\n                <AccountAvatar accountData={user.accountData} />\r\n              </IconButton>\r\n              <Menu anchorEl={userMenuAchorRef.current} open={isUserMenuOpen} onClose={onCloseUserMenu}>\r\n                <MenuItem onClick={onClickLogout}>Logout</MenuItem>\r\n                <Divider />\r\n                <MenuItem onClick={onClickRefreshAccessToken}>Refresh Access Token</MenuItem>\r\n                <MenuItem onClick={onClickClearLocalStorage}>Clear Local Storage</MenuItem>\r\n              </Menu>\r\n            </React.Fragment>\r\n          : <Button color='inherit' href='/login'>Login</Button>\r\n      }\r\n    </Toolbar>\r\n  </AppBar>;\r\n\r\n  function onClickOpenUserMenu(): void {\r\n    setIsUserMenuOpen(true);\r\n  }\r\n\r\n  function onCloseUserMenu(): void {\r\n    setIsUserMenuOpen(false);\r\n  }\r\n\r\n  async function onClickLogout(): Promise<void> {\r\n    try {\r\n      await authenticationService.logout();\r\n    } finally {\r\n      router.refresh();\r\n    }\r\n  }\r\n\r\n  async function onClickRefreshAccessToken(): Promise<void> {\r\n    const accountData = await authenticationService.refresh();\r\n  }\r\n\r\n  function onClickClearLocalStorage(): void {\r\n    localStorage.clear();\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;AAIe,SAAS,cAAc,EAAE,QAAQ,EAAE,GAAG,aAAiC;IACpF,MAAM,OAAO,6IAAE,CAAC,GAAG,CAAC,kJAAa;IACjC,MAAM,wBAAwB,6IAAE,CAAC,GAAG,CAAC,gMAA8B;IACnE,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAE,gBAAgB,kBAAmB,GAAG,gNAAK,CAAC,QAAQ,CAAC;IAC7D,MAAM,mBAAmB,gNAAK,CAAC,MAAM,CAA2B;IAEhE,qBAAO,8OAAC,2MAAM;QAAC,UAAS;QAAU,GAAG,WAAW;kBAC9C,cAAA,8OAAC,+MAAO;;8BACN,8OAAC,sIAAI;oBAAC,OAAM;oBAAO,SAAQ;;;;;;8BAC3B,8OAAC,+LAAG;oBAAC,IAAI;wBAAE,UAAU;oBAAE;8BAAI;;;;;;gBAEzB,QAAQ,KAAK,WAAW,iBACpB,8OAAC,gNAAK,CAAC,QAAQ;;sCACb,8OAAC,2NAAU;4BAAC,KAAK;4BAAkB,SAAS;sCAC1C,cAAA,8OAAC,0JAAa;gCAAC,aAAa,KAAK,WAAW;;;;;;;;;;;sCAE9C,8OAAC,mMAAI;4BAAC,UAAU,iBAAiB,OAAO;4BAAE,MAAM;4BAAgB,SAAS;;8CACvE,8OAAC,mNAAQ;oCAAC,SAAS;8CAAe;;;;;;8CAClC,8OAAC,+MAAO;;;;;8CACR,8OAAC,mNAAQ;oCAAC,SAAS;8CAA2B;;;;;;8CAC9C,8OAAC,mNAAQ;oCAAC,SAAS;8CAA0B;;;;;;;;;;;;;;;;;yCAGjD,8OAAC,2MAAM;oBAAC,OAAM;oBAAU,MAAK;8BAAS;;;;;;;;;;;;;;;;;;;IAKhD,SAAS;QACP,kBAAkB;IACpB;IAEA,SAAS;QACP,kBAAkB;IACpB;IAEA,eAAe;QACb,IAAI;YACF,MAAM,sBAAsB,MAAM;QACpC,SAAU;YACR,OAAO,OAAO;QAChB;IACF;IAEA,eAAe;QACb,MAAM,cAAc,MAAM,sBAAsB,OAAO;IACzD;IAEA,SAAS;QACP,aAAa,KAAK;IACpB;AACF","debugId":null}},
    {"offset": {"line": 769, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/navigation/SecondaryAppBar.tsx"],"sourcesContent":["import { AppBar, Toolbar, type AppBarProps } from '@mui/material';\r\nimport React from 'react';\r\n\r\nexport interface SecondaryAppBarProps extends AppBarProps {}\r\n\r\nexport default function SecondaryAppBar({ children, ...appBarProps }: SecondaryAppBarProps): React.JSX.Element {\r\n  return children\r\n    ? <AppBar position='static' {...appBarProps}>\r\n      <Toolbar>\r\n        {children}\r\n      </Toolbar>\r\n    </AppBar>\r\n    : <React.Fragment />;\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;;;;AAIe,SAAS,gBAAgB,EAAE,QAAQ,EAAE,GAAG,aAAmC;IACxF,OAAO,yBACH,8OAAC,2MAAM;QAAC,UAAS;QAAU,GAAG,WAAW;kBACzC,cAAA,8OAAC,+MAAO;sBACL;;;;;;;;;;6BAGH,8OAAC,gNAAK,CAAC,QAAQ;;;;;AACrB","debugId":null}},
    {"offset": {"line": 805, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/collections/Queue.ts"],"sourcesContent":["import { Event } from '@strife/common';\r\n\r\nexport class Queue<TItem> {\r\n\r\n  public get head(): TItem | undefined {\r\n    return this._items.at(0);\r\n  }\r\n\r\n  private _headChangedEvent = new Event.Action<[ TItem | undefined ]>();\r\n  public get headChangedEvent(): Event.IAction<[ TItem | undefined ]> {\r\n    return this._headChangedEvent;\r\n  }\r\n\r\n  private _items = new Array<TItem>();\r\n  public get items(): ReadonlyArray<TItem> {\r\n    return this._items;\r\n  }\r\n\r\n  public enqueue(item: TItem): number {\r\n    const index = this._items.push(item) - 1;\r\n    if (index != 0)\r\n      return index;\r\n\r\n    const head = item;\r\n    this._headChangedEvent.invoke(undefined, head);\r\n    return index;\r\n  }\r\n\r\n  public dequeue(): TItem | undefined {\r\n    const item = this._items.shift();\r\n    const head = this._items.at(0);\r\n    this._headChangedEvent.invoke(undefined, head);\r\n    return item;\r\n  }\r\n\r\n  public delete(item: TItem): void {\r\n    const index = this._items.indexOf(item);\r\n    if (index < 0)\r\n      return;\r\n\r\n    if (index == 0) {\r\n      this.dequeue();\r\n      return;\r\n    }\r\n\r\n    this._items.splice(index, 1);\r\n  }\r\n\r\n  public contains(item: TItem): boolean {\r\n    return this._items.indexOf(item) >= 0;\r\n  }\r\n\r\n}\r\n\r\nexport default Queue;"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEO,MAAM;IAEX,IAAW,OAA0B;QACnC,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;IACxB;IAEQ,oBAAoB,IAAI,6LAAK,CAAC,MAAM,GAA0B;IACtE,IAAW,mBAAyD;QAClE,OAAO,IAAI,CAAC,iBAAiB;IAC/B;IAEQ,SAAS,IAAI,QAAe;IACpC,IAAW,QAA8B;QACvC,OAAO,IAAI,CAAC,MAAM;IACpB;IAEO,QAAQ,IAAW,EAAU;QAClC,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ;QACvC,IAAI,SAAS,GACX,OAAO;QAET,MAAM,OAAO;QACb,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,WAAW;QACzC,OAAO;IACT;IAEO,UAA6B;QAClC,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;QAC9B,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;QAC5B,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,WAAW;QACzC,OAAO;IACT;IAEO,OAAO,IAAW,EAAQ;QAC/B,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;QAClC,IAAI,QAAQ,GACV;QAEF,IAAI,SAAS,GAAG;YACd,IAAI,CAAC,OAAO;YACZ;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO;IAC5B;IAEO,SAAS,IAAW,EAAW;QACpC,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS;IACtC;AAEF;uCAEe","debugId":null}},
    {"offset": {"line": 857, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/managers/QueueManager.ts"],"sourcesContent":["import { Event } from '@strife/common';\r\nimport Queue from '@/collections/Queue';\r\n\r\nexport abstract class QueueManager<TItem> {\r\n\r\n  private _version = 0;\r\n  public get version(): number {\r\n    return this._version;\r\n  }\r\n  \r\n  public get head(): TItem | undefined {\r\n    return this._queue.head;\r\n  }\r\n  \r\n  public get headChangedEvent(): Event.IAction<[ TItem | undefined ]> {\r\n    return this._queue.headChangedEvent;\r\n  }\r\n\r\n  private _queue = new Queue<TItem>();\r\n  private _active?: TItem;\r\n  \r\n  public constructor() {\r\n    this.headChangedEvent.add(this.onHeadChanged.bind(this));\r\n  }\r\n\r\n  public enqueue(item: TItem): number {\r\n    this.configure(item);\r\n    return this._queue.enqueue(item);\r\n  }\r\n\r\n  public dequeue(): TItem | undefined {\r\n    return this._queue.dequeue();\r\n  }\r\n\r\n  public delete(item: TItem): void {\r\n    return this._queue.delete(item);\r\n  }\r\n\r\n  public contains(item: TItem): boolean {\r\n    return this._queue.contains(item);\r\n  }\r\n\r\n  protected abstract configure(item: TItem): void;\r\n  protected abstract activate(item: TItem): void;\r\n  protected abstract deactivate(item: TItem): void;\r\n\r\n  private onHeadChanged(item?: TItem): void {\r\n    if (this._active)\r\n      this.deactivate(this._active);\r\n\r\n    this._version++;\r\n    this._active = item;\r\n\r\n    if (this._active)\r\n      this.activate(this._active);\r\n  }\r\n\r\n}\r\n\r\nexport default QueueManager;"],"names":[],"mappings":";;;;;;AACA;;AAEO,MAAe;IAEZ,WAAW,EAAE;IACrB,IAAW,UAAkB;QAC3B,OAAO,IAAI,CAAC,QAAQ;IACtB;IAEA,IAAW,OAA0B;QACnC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI;IACzB;IAEA,IAAW,mBAAyD;QAClE,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB;IACrC;IAEQ,SAAS,IAAI,8IAAK,GAAU;IAC5B,QAAgB;IAExB,aAAqB;QACnB,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI;IACxD;IAEO,QAAQ,IAAW,EAAU;QAClC,IAAI,CAAC,SAAS,CAAC;QACf,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;IAC7B;IAEO,UAA6B;QAClC,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO;IAC5B;IAEO,OAAO,IAAW,EAAQ;QAC/B,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC5B;IAEO,SAAS,IAAW,EAAW;QACpC,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IAC9B;IAMQ,cAAc,IAAY,EAAQ;QACxC,IAAI,IAAI,CAAC,OAAO,EACd,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO;QAE9B,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,OAAO,GAAG;QAEf,IAAI,IAAI,CAAC,OAAO,EACd,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO;IAC9B;AAEF;uCAEe","debugId":null}},
    {"offset": {"line": 906, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/managers/ToastQueueManager.ts"],"sourcesContent":["import QueueManager from '@/managers/QueueManager';\r\nimport { type SnackbarCloseReason, type SnackbarProps } from '@mui/material';\r\nimport { injectable } from 'inversify';\r\nimport { type SyntheticEvent } from 'react';\r\n\r\nexport type ToastData = SnackbarProps;\r\n\r\n@injectable()\r\nexport class ToastQueueManager extends QueueManager<ToastData> {\r\n\r\n  protected configure(item: ToastData): void {\r\n    const onClose = item.onClose;\r\n    item.onClose = \r\n      (event: Event | SyntheticEvent<any, Event>, reason: SnackbarCloseReason): void => {\r\n        if (onClose)\r\n          onClose(event, reason);\r\n\r\n        if (this.head == item)\r\n          this.dequeue();\r\n      };\r\n  }\r\n\r\n  protected activate(item: ToastData): void {\r\n    item.open = true;\r\n  }\r\n\r\n  protected deactivate(item: ToastData): void {\r\n    item.open = false;\r\n  }\r\n\r\n}\r\n\r\nexport default ToastQueueManager;"],"names":[],"mappings":";;;;;;;AAAA;AAEA;AAAA;;;;AAMO,MAAM,0BAA0B,kJAAY;IAEvC,UAAU,IAAe,EAAQ;QACzC,MAAM,UAAU,KAAK,OAAO;QAC5B,KAAK,OAAO,GACV,CAAC,OAA2C;YAC1C,IAAI,SACF,QAAQ,OAAO;YAEjB,IAAI,IAAI,CAAC,IAAI,IAAI,MACf,IAAI,CAAC,OAAO;QAChB;IACJ;IAEU,SAAS,IAAe,EAAQ;QACxC,KAAK,IAAI,GAAG;IACd;IAEU,WAAW,IAAe,EAAQ;QAC1C,KAAK,IAAI,GAAG;IACd;AAEF;;;;uCAEe","debugId":null}},
    {"offset": {"line": 942, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/managers/ToastQueueManagerInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport ToastQueueManager from '@/managers/ToastQueueManager';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const ToastQueueManagerServiceId: ServiceIdentifier<ToastQueueManager> = Symbol.for('ToastQueueManagerServiceId');\r\ndi.bind<ToastQueueManager>(ToastQueueManagerServiceId)\r\n  .to(ToastQueueManager)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,6BAAmE,OAAO,GAAG,CAAC;AAC3F,6IAAE,CAAC,IAAI,CAAoB,4BACxB,EAAE,CAAC,uJAAiB,EACpB,gBAAgB","debugId":null}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/Toasts.tsx"],"sourcesContent":["'use client'\r\n\r\nimport di from '@/DependencyInjection';\r\nimport { ToastQueueManagerServiceId } from '@/di/managers/ToastQueueManagerInjector';\r\nimport '@/managers/ToastQueueManager';\r\nimport { Snackbar } from '@mui/material';\r\nimport React from 'react';\r\n\r\nexport interface ToastsProps {}\r\n\r\nexport function Toasts({}: ToastsProps): React.JSX.Element {\r\n\r\n  const toastQueueManager = di.get(ToastQueueManagerServiceId);\r\n  const [ snackbar, setSnackbar ] = React.useState<React.ReactNode | undefined>();\r\n  React.useEffect(initializationEffect, []);\r\n\r\n  return <React.Fragment>{snackbar}</React.Fragment>;\r\n\r\n  function initializationEffect(): () => void {\r\n    onHeadChanged();\r\n    toastQueueManager.headChangedEvent.add(onHeadChanged);\r\n    return cleanupEffect;\r\n  }\r\n\r\n  function cleanupEffect(): void {\r\n    toastQueueManager.headChangedEvent.remove(onHeadChanged);\r\n  }\r\n\r\n  function onHeadChanged(): void {\r\n    const snackbar = toastQueueManager.head\r\n      ? <Snackbar key={toastQueueManager.version} {...toastQueueManager.head} />\r\n      : undefined;\r\n    setSnackbar(snackbar);\r\n  }\r\n\r\n}\r\n\r\nexport default Toasts;"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAUO,SAAS,OAAO,EAAe;IAEpC,MAAM,oBAAoB,6IAAE,CAAC,GAAG,CAAC,wLAA0B;IAC3D,MAAM,CAAE,UAAU,YAAa,GAAG,gNAAK,CAAC,QAAQ;IAChD,gNAAK,CAAC,SAAS,CAAC,sBAAsB,EAAE;IAExC,qBAAO,8OAAC,gNAAK,CAAC,QAAQ;kBAAE;;;;;;;;IAExB,SAAS;QACP;QACA,kBAAkB,gBAAgB,CAAC,GAAG,CAAC;QACvC,OAAO;IACT;IAEA,SAAS;QACP,kBAAkB,gBAAgB,CAAC,MAAM,CAAC;IAC5C;IAEA,SAAS;QACP,MAAM,WAAW,kBAAkB,IAAI,iBACnC,8OAAC,mNAAQ;YAAkC,GAAG,kBAAkB,IAAI;WAArD,kBAAkB,OAAO;;;;mBACxC;QACJ,YAAY;IACd;AAEF;uCAEe","debugId":null}},
    {"offset": {"line": 1012, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/managers/QueryClientManager.ts"],"sourcesContent":["import { DefaultOptions, QueryClient } from '@tanstack/react-query';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport class QueryClientManager {\r\n  \r\n  private _queryClient = new QueryClient();\r\n  public get queryClient(): QueryClient {\r\n    return this._queryClient;\r\n  }\r\n\r\n  public constructor() {\r\n    const options: DefaultOptions<any> = {\r\n      queries: {\r\n        staleTime: 1000 * 60 * 5\r\n      }\r\n    };\r\n\r\n    this._queryClient.setDefaultOptions(options);\r\n  }\r\n\r\n}\r\n\r\nexport default QueryClientManager;"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AAAA;;;;;AAGO,MAAM;IAEH,eAAe,IAAI,4LAAW,GAAG;IACzC,IAAW,cAA2B;QACpC,OAAO,IAAI,CAAC,YAAY;IAC1B;IAEA,aAAqB;QACnB,MAAM,UAA+B;YACnC,SAAS;gBACP,WAAW,OAAO,KAAK;YACzB;QACF;QAEA,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC;IACtC;AAEF;;;;;;uCAEe","debugId":null}},
    {"offset": {"line": 1051, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/managers/QueryClientManagerInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport QueryClientManager from '@/managers/QueryClientManager';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const QueryClientManagerServiceId: ServiceIdentifier<QueryClientManager> = Symbol.for('QueryClientManagerServiceId');\r\ndi.bind<QueryClientManager>(QueryClientManagerServiceId)\r\n  .to(QueryClientManager)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,8BAAqE,OAAO,GAAG,CAAC;AAC7F,6IAAE,CAAC,IAAI,CAAqB,6BACzB,EAAE,CAAC,wJAAkB,EACrB,gBAAgB","debugId":null}},
    {"offset": {"line": 1065, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/page/Page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport di from '@/DependencyInjection';\r\nimport ContextMenu from '@components/ContextMenu';\r\nimport PrimaryAppBar, { type PrimaryAppBarProps } from '@components/navigation/PrimaryAppBar';\r\nimport SecondaryAppBar, { type SecondaryAppBarProps } from '@components/navigation/SecondaryAppBar';\r\nimport Toasts from '@components/Toasts';\r\nimport { Box } from '@mui/material';\r\nimport { QueryClientManagerServiceId } from '@root/src/di/managers/QueryClientManagerInjector';\r\nimport { QueryClientProvider } from '@tanstack/react-query';\r\nimport React from 'react';\r\n\r\nexport interface PageProps extends React.PropsWithChildren {\r\n  primaryAppBarProps?: PrimaryAppBarProps;\r\n  secondaryAppBarProps?: SecondaryAppBarProps;\r\n}\r\n\r\nexport default function Page({ children, primaryAppBarProps, secondaryAppBarProps }: PageProps): React.JSX.Element {\r\n  const queryClientManager = di.get(QueryClientManagerServiceId);\r\n  return <Box display='flex' flexDirection='column' height='100vh'>\r\n    <Box flexGrow={0}>\r\n      <PrimaryAppBar {...primaryAppBarProps} />\r\n    </Box>\r\n    <QueryClientProvider client={queryClientManager.queryClient}>\r\n      {children}\r\n    </QueryClientProvider>\r\n    <Box flexGrow={0}>\r\n      <SecondaryAppBar {...secondaryAppBarProps} />\r\n    </Box>\r\n    <ContextMenu />\r\n    <Toasts />\r\n  </Box>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAiBe,SAAS,KAAK,EAAE,QAAQ,EAAE,kBAAkB,EAAE,oBAAoB,EAAa;IAC5F,MAAM,qBAAqB,6IAAE,CAAC,GAAG,CAAC,0LAA2B;IAC7D,qBAAO,8OAAC,+LAAG;QAAC,SAAQ;QAAO,eAAc;QAAS,QAAO;;0BACvD,8OAAC,+LAAG;gBAAC,UAAU;0BACb,cAAA,8OAAC,6JAAa;oBAAE,GAAG,kBAAkB;;;;;;;;;;;0BAEvC,8OAAC,6MAAmB;gBAAC,QAAQ,mBAAmB,WAAW;0BACxD;;;;;;0BAEH,8OAAC,+LAAG;gBAAC,UAAU;0BACb,cAAA,8OAAC,+JAAe;oBAAE,GAAG,oBAAoB;;;;;;;;;;;0BAE3C,8OAAC,6IAAW;;;;;0BACZ,8OAAC,wIAAM;;;;;;;;;;;AAEX","debugId":null}},
    {"offset": {"line": 1152, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/user/UserContext.ts"],"sourcesContent":["import { type IUser } from '@interfaces/IUser';\r\nimport React from 'react';\r\n\r\nexport interface IUserContext {\r\n  user?: IUser\r\n}\r\n\r\nexport const UserContext = React.createContext<IUserContext | undefined>(undefined);\r\n\r\nexport function useUserContext(): IUserContext {\r\n  const userContext = React.useContext(UserContext);\r\n  if (!userContext)\r\n    throw new Error(`Missing ${typeof UserContext}`);\r\n\r\n  return userContext;\r\n}\r\n\r\nexport default UserContext;"],"names":[],"mappings":";;;;;;;;AACA;;AAMO,MAAM,4BAAc,gNAAK,CAAC,aAAa,CAA2B;AAElE,SAAS;IACd,MAAM,cAAc,gNAAK,CAAC,UAAU,CAAC;IACrC,IAAI,CAAC,aACH,MAAM,IAAI,MAAM,CAAC,QAAQ,EAAE,OAAO,aAAa;IAEjD,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 1173, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/user/UserContextProvider.tsx"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { UserServiceId } from '@/di/UserInjector';\r\nimport UserContext, { type IUserContext } from '@components/user/UserContext';\r\nimport React from 'react';\r\n\r\nexport interface UserContextProviderProps extends React.PropsWithChildren {}\r\n\r\nexport function UserContextProvider({ children }: UserContextProviderProps): React.JSX.Element {\r\n  const user = di.get(UserServiceId);\r\n\r\n  const value: IUserContext = {\r\n    user\r\n  };\r\n\r\n  return <UserContext.Provider value={value}>\r\n    {children}\r\n  </UserContext.Provider>;\r\n}\r\n\r\nexport default UserContextProvider;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AAKO,SAAS,oBAAoB,EAAE,QAAQ,EAA4B;IACxE,MAAM,OAAO,6IAAE,CAAC,GAAG,CAAC,kJAAa;IAEjC,MAAM,QAAsB;QAC1B;IACF;IAEA,qBAAO,8OAAC,oJAAW,CAAC,QAAQ;QAAC,OAAO;kBACjC;;;;;;AAEL;uCAEe","debugId":null}},
    {"offset": {"line": 1206, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/page/AuthenticatedPage.tsx"],"sourcesContent":["'use client'\r\n\r\nimport di from '@/DependencyInjection';\r\nimport { UserServiceId } from '@/di/UserInjector';\r\nimport Page, { PageProps } from '@components/page/Page';\r\nimport UserContextProvider from '@components/user/UserContextProvider';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\nimport React from 'react';\r\n\r\nexport interface AuthenticatedPageProps extends PageProps {}\r\n\r\nexport default function AuthenticatedPage({ children, ...pageProps }: AuthenticatedPageProps): React.JSX.Element {\r\n  const user = di.get(UserServiceId);\r\n  if (!user.accountData) {\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    router.replace(`/login?redirect=${pathname}`);\r\n    return <React.Fragment />;\r\n  }\r\n\r\n  return <Page {...pageProps}>\r\n    <UserContextProvider>\r\n      {children}\r\n    </UserContextProvider>\r\n  </Page>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAWe,SAAS,kBAAkB,EAAE,QAAQ,EAAE,GAAG,WAAmC;IAC1F,MAAM,OAAO,6IAAE,CAAC,GAAG,CAAC,kJAAa;IACjC,IAAI,CAAC,KAAK,WAAW,EAAE;QACrB,MAAM,SAAS,IAAA,+IAAS;QACxB,MAAM,WAAW,IAAA,iJAAW;QAC5B,OAAO,OAAO,CAAC,CAAC,gBAAgB,EAAE,UAAU;QAC5C,qBAAO,8OAAC,gNAAK,CAAC,QAAQ;;;;;IACxB;IAEA,qBAAO,8OAAC,8IAAI;QAAE,GAAG,SAAS;kBACxB,cAAA,8OAAC,6JAAmB;sBACjB;;;;;;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 1256, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/collections/Batcher.ts"],"sourcesContent":["interface PromiseExecutorData<TValue> {\r\n  promise: Promise<TValue>;\r\n  resolve: (value: TValue | PromiseLike<TValue>) => void;\r\n  reject: (error?: any) => void;\r\n}\r\n\r\nexport class Batcher<TKey, TValue> {\r\n\r\n  private _onFetch: (keys: TKey[]) => Promise<Map<TKey, TValue>>;\r\n  private _time: number;\r\n  private _timer?: ReturnType<typeof setTimeout>;\r\n\r\n  private _promiseExecutorDatasByKey = new Map<TKey, PromiseExecutorData<TValue>>();\r\n\r\n  public constructor(onFetch: (keys: TKey[]) => Promise<Map<TKey, TValue>>, time: number = 10) {\r\n    this._onFetch = onFetch;\r\n    this._time = time;\r\n  }\r\n\r\n  public async request(key: TKey): Promise<TValue> {\r\n    const self = this;\r\n\r\n    let promiseExecutorData = this._promiseExecutorDatasByKey.get(key);\r\n    if (promiseExecutorData)\r\n      return promiseExecutorData.promise;\r\n\r\n    const promise = new Promise(executor);\r\n    this.queue();\r\n    return promise;\r\n    \r\n    function executor(resolve: (value: TValue | PromiseLike<TValue>) => void, reject: (error?: any) => void) {\r\n      const promiseExecutorData = {\r\n        promise,\r\n        resolve,\r\n        reject\r\n      };\r\n\r\n      self._promiseExecutorDatasByKey.set(key, promiseExecutorData)\r\n    }\r\n  }\r\n\r\n  private queue(): void {\r\n    if (this._timer)\r\n      return;\r\n\r\n    this._timer = setTimeout(this.execute.bind(this), this._time);\r\n  }\r\n\r\n  private execute(): void {\r\n    this._timer = undefined;\r\n    this.fetch();\r\n  }\r\n\r\n  private async fetch(): Promise<void> {\r\n    const promiseExecutorDatasByKey = this._promiseExecutorDatasByKey;\r\n    this._promiseExecutorDatasByKey = new Map<TKey, PromiseExecutorData<TValue>>();\r\n\r\n    const keys = this._promiseExecutorDatasByKey.keys();\r\n    const valuesByKey = await this._onFetch([...keys]);\r\n    valuesByKey.forEach(resolve.bind(this));\r\n\r\n    const rejects = keys.filter((key: TKey): boolean => !valuesByKey.has(key));\r\n    rejects.forEach(reject.bind(this));\r\n\r\n    function resolve(value: TValue, key: TKey): void {\r\n      const promiseExecutorData = promiseExecutorDatasByKey.get(key);\r\n      if (!promiseExecutorData)\r\n        return;\r\n      \r\n      promiseExecutorData.resolve(value);\r\n    }\r\n\r\n    function reject(key: TKey): void {\r\n      const promiseExecutorData = promiseExecutorDatasByKey.get(key);\r\n      if (!promiseExecutorData)\r\n        return;\r\n\r\n      promiseExecutorData.reject();\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default Batcher;"],"names":[],"mappings":";;;;;;AAMO,MAAM;IAEH,SAAuD;IACvD,MAAc;IACd,OAAuC;IAEvC,6BAA6B,IAAI,MAAyC;IAElF,YAAmB,OAAqD,EAAE,OAAe,EAAE,CAAE;QAC3F,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,KAAK,GAAG;IACf;IAEA,MAAa,QAAQ,GAAS,EAAmB;QAC/C,MAAM,OAAO,IAAI;QAEjB,IAAI,sBAAsB,IAAI,CAAC,0BAA0B,CAAC,GAAG,CAAC;QAC9D,IAAI,qBACF,OAAO,oBAAoB,OAAO;QAEpC,MAAM,UAAU,IAAI,QAAQ;QAC5B,IAAI,CAAC,KAAK;QACV,OAAO;;;QAEP,SAAS,SAAS,OAAsD,EAAE,MAA6B;YACrG,MAAM,sBAAsB;gBAC1B;gBACA;gBACA;YACF;YAEA,KAAK,0BAA0B,CAAC,GAAG,CAAC,KAAK;QAC3C;IACF;IAEQ,QAAc;QACpB,IAAI,IAAI,CAAC,MAAM,EACb;QAEF,IAAI,CAAC,MAAM,GAAG,WAAW,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK;IAC9D;IAEQ,UAAgB;QACtB,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,KAAK;IACZ;IAEA,MAAc,QAAuB;QACnC,MAAM,4BAA4B,IAAI,CAAC,0BAA0B;QACjE,IAAI,CAAC,0BAA0B,GAAG,IAAI;QAEtC,MAAM,OAAO,IAAI,CAAC,0BAA0B,CAAC,IAAI;QACjD,MAAM,cAAc,MAAM,IAAI,CAAC,QAAQ,CAAC;eAAI;SAAK;QACjD,YAAY,OAAO,CAAC,QAAQ,IAAI,CAAC,IAAI;QAErC,MAAM,UAAU,KAAK,MAAM,CAAC,CAAC,MAAuB,CAAC,YAAY,GAAG,CAAC;QACrE,QAAQ,OAAO,CAAC,OAAO,IAAI,CAAC,IAAI;QAEhC,SAAS,QAAQ,KAAa,EAAE,GAAS;YACvC,MAAM,sBAAsB,0BAA0B,GAAG,CAAC;YAC1D,IAAI,CAAC,qBACH;YAEF,oBAAoB,OAAO,CAAC;QAC9B;QAEA,SAAS,OAAO,GAAS;YACvB,MAAM,sBAAsB,0BAA0B,GAAG,CAAC;YAC1D,IAAI,CAAC,qBACH;YAEF,oBAAoB,MAAM;QAC5B;IACF;AAEF;uCAEe","debugId":null}},
    {"offset": {"line": 1324, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/stores/ProjectStore.ts"],"sourcesContent":["import Batcher from '@/collections/Batcher';\r\nimport di from '@/DependencyInjection';\r\nimport { QueryClientManagerServiceId } from '@/di/managers/QueryClientManagerInjector';\r\nimport { ProjectServiceServiceId } from '@/di/services/ProjectServiceInjector';\r\nimport { Project } from '@strife/common';\r\nimport { useMutation, useQuery } from '@tanstack/react-query';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport class ProjectStore {\r\n  \r\n  private _queryClientManager = di.get(QueryClientManagerServiceId);\r\n  private _projectService = di.get(ProjectServiceServiceId);\r\n  private _batcher = new Batcher<string, Project.Data>(this.onFetch.bind(this));\r\n\r\n  public useCreateProject(createData: Project.CreateData): ReturnType<typeof useMutation<Project.Data>> {\r\n    return useMutation({\r\n      mutationFn: (): Promise<Project.Data> => this._projectService.createProject(createData),\r\n      onSuccess: this.setProjectQueryData.bind(this)\r\n    });\r\n  }\r\n\r\n  public useDeleteProject(projectId: string): ReturnType<typeof useMutation> {\r\n    return useMutation({\r\n      mutationFn: (): Promise<void> => this._projectService.deleteProject(projectId),\r\n      onSuccess: (): void => this.invalidateProjectQueryData(projectId)\r\n    });\r\n  }\r\n\r\n  public useGetProject(projectId: string): ReturnType<typeof useQuery<Project.Data>> {\r\n    return useQuery({ \r\n      queryKey: this.getProjectQueryKey(projectId), \r\n      queryFn: (): Promise<Project.Data> => this._batcher.request(projectId)\r\n    });\r\n  }\r\n\r\n  public useGetProjects(getData: Project.GetData): ReturnType<typeof useQuery<Project.Data[]>> {\r\n    return useQuery({\r\n      queryKey: this.getProjectsQueryKey(getData),\r\n      queryFn: async (): Promise<Project.Data[]> => {\r\n        const projectDatas = await this._projectService.getProjects(getData)\r\n        projectDatas.forEach(this.setProjectQueryData.bind(this));\r\n        return projectDatas;\r\n      }\r\n    });\r\n  }\r\n\r\n  public useUpdateProject(projectId: string, updateData: Project.UpdateData): ReturnType<typeof useMutation<Project.Data>> {\r\n    return useMutation({\r\n      mutationFn: (): Promise<Project.Data> => this._projectService.updateProject(projectId, updateData),\r\n      onSuccess: this.setProjectQueryData.bind(this)\r\n    });\r\n  }\r\n\r\n  private getProjectQueryKey(projectId: string): unknown[] {\r\n    return [ 'project', projectId ];\r\n  }\r\n\r\n  private setProjectQueryData(projectData: Project.Data): void {\r\n    this._queryClientManager.queryClient.setQueryData(\r\n      this.getProjectQueryKey(projectData.id),\r\n      projectData\r\n    );\r\n  }\r\n\r\n  private invalidateProjectQueryData(projectId: string): void {\r\n    this._queryClientManager.queryClient.invalidateQueries({\r\n      queryKey: this.getProjectQueryKey(projectId)\r\n    });\r\n  }\r\n\r\n  private getProjectsQueryKey(getData: Project.GetData): unknown[] {\r\n    return [ 'projects', getData ];\r\n  }\r\n\r\n  private async onFetch(ids: string[]): Promise<Map<string, Project.Data>> {\r\n    const getData = await Project.GetSchema.parseAsync({ ids });\r\n    const projectDatas = await this._projectService.getProjects(getData);\r\n    const projectDataEntries = projectDatas.map((projectData: Project.Data): [string, Project.Data] => [ projectData.id, projectData ]);\r\n    return new Map(projectDataEntries);\r\n  }\r\n\r\n}\r\n\r\nexport default ProjectStore;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;;;;;AAGO,MAAM;IAEH,sBAAsB,6IAAE,CAAC,GAAG,CAAC,0LAA2B,EAAE;IAC1D,kBAAkB,6IAAE,CAAC,GAAG,CAAC,kLAAuB,EAAE;IAClD,WAAW,IAAI,gJAAO,CAAuB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG;IAEvE,iBAAiB,UAA8B,EAAgD;QACpG,OAAO,IAAA,6LAAW,EAAC;YACjB,YAAY,IAA6B,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC;YAC5E,WAAW,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI;QAC/C;IACF;IAEO,iBAAiB,SAAiB,EAAkC;QACzE,OAAO,IAAA,6LAAW,EAAC;YACjB,YAAY,IAAqB,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC;YACpE,WAAW,IAAY,IAAI,CAAC,0BAA0B,CAAC;QACzD;IACF;IAEO,cAAc,SAAiB,EAA6C;QACjF,OAAO,IAAA,uLAAQ,EAAC;YACd,UAAU,IAAI,CAAC,kBAAkB,CAAC;YAClC,SAAS,IAA6B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;QAC9D;IACF;IAEO,eAAe,OAAwB,EAA+C;QAC3F,OAAO,IAAA,uLAAQ,EAAC;YACd,UAAU,IAAI,CAAC,mBAAmB,CAAC;YACnC,SAAS;gBACP,MAAM,eAAe,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC;gBAC5D,aAAa,OAAO,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI;gBACvD,OAAO;YACT;QACF;IACF;IAEO,iBAAiB,SAAiB,EAAE,UAA8B,EAAgD;QACvH,OAAO,IAAA,6LAAW,EAAC;YACjB,YAAY,IAA6B,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,WAAW;YACvF,WAAW,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI;QAC/C;IACF;IAEQ,mBAAmB,SAAiB,EAAa;QACvD,OAAO;YAAE;YAAW;SAAW;IACjC;IAEQ,oBAAoB,WAAyB,EAAQ;QAC3D,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,YAAY,CAC/C,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,GACtC;IAEJ;IAEQ,2BAA2B,SAAiB,EAAQ;QAC1D,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,iBAAiB,CAAC;YACrD,UAAU,IAAI,CAAC,kBAAkB,CAAC;QACpC;IACF;IAEQ,oBAAoB,OAAwB,EAAa;QAC/D,OAAO;YAAE;YAAY;SAAS;IAChC;IAEA,MAAc,QAAQ,GAAa,EAAsC;QACvE,MAAM,UAAU,MAAM,2MAAO,CAAC,SAAS,CAAC,UAAU,CAAC;YAAE;QAAI;QACzD,MAAM,eAAe,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC;QAC5D,MAAM,qBAAqB,aAAa,GAAG,CAAC,CAAC,cAAsD;gBAAE,YAAY,EAAE;gBAAE;aAAa;QAClI,OAAO,IAAI,IAAI;IACjB;AAEF;;;;uCAEe","debugId":null}},
    {"offset": {"line": 1427, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/stores/ProjectStoreInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport ProjectStore from '@/stores/ProjectStore';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const ProjectStoreServiceId: ServiceIdentifier<ProjectStore> = Symbol.for('ProjectStoreServiceId');\r\ndi.bind<ProjectStore>(ProjectStoreServiceId)\r\n  .to(ProjectStore)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,wBAAyD,OAAO,GAAG,CAAC;AACjF,6IAAE,CAAC,IAAI,CAAe,uBACnB,EAAE,CAAC,gJAAY,EACf,gBAAgB","debugId":null}},
    {"offset": {"line": 1441, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/project/ProjectContext.ts"],"sourcesContent":["import { type ProjectData } from '@strife/common';\r\nimport React from 'react';\r\n\r\nexport interface IProjectContext {\r\n  projectData?: ProjectData\r\n}\r\n\r\nexport const ProjectContext = React.createContext<IProjectContext | undefined>(undefined);\r\n\r\nexport function useProjectContext(): IProjectContext {\r\n  const projectContext = React.useContext(ProjectContext);\r\n  if (!projectContext)\r\n    throw new Error(`Missing ${typeof ProjectContext}`);\r\n\r\n  return projectContext;\r\n}\r\n\r\nexport default ProjectContext;"],"names":[],"mappings":";;;;;;;;AACA;;AAMO,MAAM,+BAAiB,gNAAK,CAAC,aAAa,CAA8B;AAExE,SAAS;IACd,MAAM,iBAAiB,gNAAK,CAAC,UAAU,CAAC;IACxC,IAAI,CAAC,gBACH,MAAM,IAAI,MAAM,CAAC,QAAQ,EAAE,OAAO,gBAAgB;IAEpD,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 1462, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/project/ProjectContextProvider.tsx"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { ProjectStoreServiceId } from '@/di/stores/ProjectStoreInjector';\r\nimport ProjectContext, { type IProjectContext } from '@components/project/ProjectContext';\r\nimport React from 'react';\r\n\r\nexport interface ProjectContextProviderProps extends React.PropsWithChildren {\r\n  projectId: string\r\n}\r\n\r\nexport function ProjectContextProvider({ projectId, children }: ProjectContextProviderProps): React.JSX.Element {\r\n  const projectStore = di.get(ProjectStoreServiceId);\r\n  const { data } = projectStore.useGetProject(projectId);\r\n\r\n  const value: IProjectContext = {\r\n    projectData: data\r\n  };\r\n\r\n  return <ProjectContext.Provider value={value}>\r\n    {children}\r\n  </ProjectContext.Provider>;\r\n}\r\n\r\nexport default ProjectContextProvider;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AAOO,SAAS,uBAAuB,EAAE,SAAS,EAAE,QAAQ,EAA+B;IACzF,MAAM,eAAe,6IAAE,CAAC,GAAG,CAAC,4KAAqB;IACjD,MAAM,EAAE,IAAI,EAAE,GAAG,aAAa,aAAa,CAAC;IAE5C,MAAM,QAAyB;QAC7B,aAAa;IACf;IAEA,qBAAO,8OAAC,0JAAc,CAAC,QAAQ;QAAC,OAAO;kBACpC;;;;;;AAEL;uCAEe","debugId":null}},
    {"offset": {"line": 1496, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/editor/views/View.tsx"],"sourcesContent":["import { Box, type BoxProps } from '@mui/material';\r\nimport React from 'react';\r\n\r\nexport interface ViewProps extends BoxProps {}\r\n\r\nexport function View({ children, ...boxProps }: ViewProps): React.JSX.Element {\r\n  return <Box width='100%' height='100%' {...boxProps}>\r\n    {children}\r\n  </Box>;\r\n}\r\n\r\nexport default View;"],"names":[],"mappings":";;;;;;;AAAA;;;AAKO,SAAS,KAAK,EAAE,QAAQ,EAAE,GAAG,UAAqB;IACvD,qBAAO,8OAAC,+LAAG;QAAC,OAAM;QAAO,QAAO;QAAQ,GAAG,QAAQ;kBAChD;;;;;;AAEL;uCAEe","debugId":null}},
    {"offset": {"line": 1523, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/editor/widgets/Widget.tsx"],"sourcesContent":["import { Box, type BoxProps } from '@mui/material';\r\nimport React from 'react';\r\n\r\nexport interface WidgetProps extends BoxProps {}\r\n\r\nexport function Widget({ children, ...boxProps }: WidgetProps): React.JSX.Element {\r\n  return <Box width='100%' height='100%' {...boxProps}>\r\n    {children}\r\n  </Box>;\r\n}\r\n\r\nexport default Widget;"],"names":[],"mappings":";;;;;;;AAAA;;;AAKO,SAAS,OAAO,EAAE,QAAQ,EAAE,GAAG,UAAuB;IAC3D,qBAAO,8OAAC,+LAAG;QAAC,OAAM;QAAO,QAAO;QAAQ,GAAG,QAAQ;kBAChD;;;;;;AAEL;uCAEe","debugId":null}},
    {"offset": {"line": 1550, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/editor/widgets/AceEditorWidget.tsx"],"sourcesContent":["import Widget, { type WidgetProps} from '@components/editor/widgets/Widget';\r\nimport React from 'react';\r\nimport ace from 'ace-builds';\r\nimport { Box } from '@mui/material';\r\n\r\nexport interface AceEditorWidgetProps extends WidgetProps {}\r\n\r\nexport function AceEditorWidget({ ...widgetProps }: AceEditorWidgetProps): React.JSX.Element {\r\n\r\n  React.useEffect(initializationEffect, []);\r\n\r\n  return <Widget {...widgetProps}>\r\n    <Box id='editor' width='100%' height='100%' />\r\n  </Widget>;\r\n  \r\n  function initializationEffect(): void {\r\n    var editor = ace.edit('editor');\r\n  }\r\n  \r\n}\r\n\r\nexport default AceEditorWidget;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;AAIO,SAAS,gBAAgB,EAAE,GAAG,aAAmC;IAEtE,gNAAK,CAAC,SAAS,CAAC,sBAAsB,EAAE;IAExC,qBAAO,8OAAC,6JAAM;QAAE,GAAG,WAAW;kBAC5B,cAAA,8OAAC,+LAAG;YAAC,IAAG;YAAS,OAAM;YAAO,QAAO;;;;;;;;;;;;;IAGvC,SAAS;QACP,IAAI,SAAS,oKAAG,CAAC,IAAI,CAAC;IACxB;AAEF;uCAEe","debugId":null}},
    {"offset": {"line": 1595, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/services/FileSystemService.ts"],"sourcesContent":["import BaseService from '@/services/BaseService';\r\nimport { FileSystem } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport class FileSystemService extends BaseService {\r\n\r\n  protected override get baseUrl(): string | URL | undefined {\r\n    return `http://localhost:3000/filesystems`;\r\n  }\r\n  \r\n  public createFileSystemDirectoryObject(fileSystemId: string, createDirectoryObjectData: FileSystem.CreateDirectoryObjectData): Promise<FileSystem.DirectoryObjectData> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    return this.post({ schema: FileSystem.DirectoryObjectSchema, url: `/${fileSystemId}/objects`, data: createDirectoryObjectData });\r\n  }\r\n  \r\n  public createFileSystemFileObject(fileSystemId: string, createFileObjectData: FileSystem.CreateFileObjectData): Promise<FileSystem.FileObjectData> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    return this.post({ schema: FileSystem.FileObjectSchema, url: `/${fileSystemId}/objects`, data: createFileObjectData });\r\n  }\r\n\r\n  public deleteFileSystemObject(fileSystemId: string, fileSystemObjectId: string): Promise<void> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n    \r\n    return this.delete({ url: `/${fileSystemId}/objects/${fileSystemObjectId}` });\r\n  }\r\n  \r\n  public async getFileSystemObject(fileSystemId: string, fileSystemObjectId: string): Promise<FileSystem.AnyObjectData> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    return await this.get({ schema: FileSystem.AnyObjectSchema, url: `/${fileSystemId}/objects/${fileSystemObjectId}` });\r\n  }\r\n\r\n  public async getFileSystemObjects(fileSystemId: string, getObjectsData: FileSystem.GetObjectsData): Promise<FileSystem.AnyObjectData[]> {\r\n    if (!this.user.accountData)\r\n      return Promise.reject();\r\n\r\n    return await this.get({ schema: FileSystem.AnyObjectSchema.array(), url: `/${fileSystemId}/objects`, data: getObjectsData });\r\n  }\r\n\r\n}\r\n\r\nexport default FileSystemService;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAGO,MAAM,0BAA0B,iJAAW;IAEhD,IAAuB,UAAoC;QACzD,OAAO,CAAC,iCAAiC,CAAC;IAC5C;IAEO,gCAAgC,YAAoB,EAAE,yBAA+D,EAA2C;QACrK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,IAAI,CAAC;YAAE,QAAQ,oNAAU,CAAC,qBAAqB;YAAE,KAAK,CAAC,CAAC,EAAE,aAAa,QAAQ,CAAC;YAAE,MAAM;QAA0B;IAChI;IAEO,2BAA2B,YAAoB,EAAE,oBAAqD,EAAsC;QACjJ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,IAAI,CAAC;YAAE,QAAQ,oNAAU,CAAC,gBAAgB;YAAE,KAAK,CAAC,CAAC,EAAE,aAAa,QAAQ,CAAC;YAAE,MAAM;QAAqB;IACtH;IAEO,uBAAuB,YAAoB,EAAE,kBAA0B,EAAiB;QAC7F,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,OAAO,IAAI,CAAC,MAAM,CAAC;YAAE,KAAK,CAAC,CAAC,EAAE,aAAa,SAAS,EAAE,oBAAoB;QAAC;IAC7E;IAEA,MAAa,oBAAoB,YAAoB,EAAE,kBAA0B,EAAqC;QACpH,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,OAAO,MAAM,IAAI,CAAC,GAAG,CAAC;YAAE,QAAQ,oNAAU,CAAC,eAAe;YAAE,KAAK,CAAC,CAAC,EAAE,aAAa,SAAS,EAAE,oBAAoB;QAAC;IACpH;IAEA,MAAa,qBAAqB,YAAoB,EAAE,cAAyC,EAAuC;QACtI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EACxB,OAAO,QAAQ,MAAM;QAEvB,OAAO,MAAM,IAAI,CAAC,GAAG,CAAC;YAAE,QAAQ,oNAAU,CAAC,eAAe,CAAC,KAAK;YAAI,KAAK,CAAC,CAAC,EAAE,aAAa,QAAQ,CAAC;YAAE,MAAM;QAAe;IAC5H;AAEF;;;;uCAEe","debugId":null}},
    {"offset": {"line": 1661, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/services/FileSystemServiceInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport FileSystemService from '@/services/FileSystemService';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const FileSystemServiceServiceId: ServiceIdentifier<FileSystemService> = Symbol.for('FileSystemServiceServiceId');\r\ndi.bind<FileSystemService>(FileSystemServiceServiceId)\r\n  .to(FileSystemService)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,6BAAmE,OAAO,GAAG,CAAC;AAC3F,6IAAE,CAAC,IAAI,CAAoB,4BACxB,EAAE,CAAC,uJAAiB,EACpB,gBAAgB","debugId":null}},
    {"offset": {"line": 1675, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/stores/FileSystemStore.ts"],"sourcesContent":["import Batcher from '@/collections/Batcher';\r\nimport di from '@/DependencyInjection';\r\nimport { QueryClientManagerServiceId } from '@/di/managers/QueryClientManagerInjector';\r\nimport { FileSystemServiceServiceId } from '@/di/services/FileSystemServiceInjector';\r\nimport { FileSystem } from '@strife/common';\r\nimport { useMutation, useQuery } from '@tanstack/react-query';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport class FileSystemStore {\r\n  \r\n  private _queryClientManager = di.get(QueryClientManagerServiceId);\r\n  private _fileSystemService = di.get(FileSystemServiceServiceId);\r\n  private _batchers = new Map<string, Batcher<string, FileSystem.AnyObjectData>>();\r\n\r\n  useCreateFileSystemDirectory(fileSystemId: string, createDirectoryObjectData: FileSystem.CreateDirectoryObjectData): ReturnType<typeof useMutation<FileSystem.DirectoryObjectData>> {\r\n    return useMutation({\r\n      mutationFn: (): Promise<FileSystem.DirectoryObjectData> => this._fileSystemService.createFileSystemDirectoryObject(fileSystemId, createDirectoryObjectData),\r\n      onSuccess: (fileSystemDirectoryData: FileSystem.DirectoryObjectData): void => {\r\n        this.setFileSystemObjectQueryData(fileSystemDirectoryData);\r\n        if (fileSystemDirectoryData.parentFileSystemDirectoryObjectId)\r\n          this.invalidateFileSystemObjectQueryData(fileSystemId, fileSystemDirectoryData.parentFileSystemDirectoryObjectId);\r\n      }\r\n    });\r\n  }\r\n\r\n  useCreateFileSystemFile(fileSystemId: string, createFileObjectData: FileSystem.CreateFileObjectData): ReturnType<typeof useMutation<FileSystem.FileObjectData>> {\r\n    return useMutation({\r\n      mutationFn: (): Promise<FileSystem.FileObjectData> => this._fileSystemService.createFileSystemFileObject(fileSystemId, createFileObjectData),\r\n      onSuccess: (fileSystemFileData: FileSystem.FileObjectData): void => {\r\n        this.setFileSystemObjectQueryData(fileSystemFileData);\r\n        if (fileSystemFileData.parentFileSystemDirectoryObjectId)\r\n          this.invalidateFileSystemObjectQueryData(fileSystemId, fileSystemFileData.parentFileSystemDirectoryObjectId);\r\n      }\r\n    });\r\n  }\r\n\r\n  useGetFileSystemObject(fileSystemId: string, fileSystemObjectId: string): ReturnType<typeof useQuery<FileSystem.AnyObjectData>> {\r\n    return useQuery({ \r\n      queryKey: this.getFileSystemObjectQueryKey(fileSystemId, fileSystemObjectId), \r\n      queryFn: (): Promise<FileSystem.AnyObjectData> => this.getBatcher(fileSystemId).request(fileSystemObjectId)\r\n    });\r\n  }\r\n\r\n  useGetFileSystemObjects(fileSystemId: string, getObjectsData: FileSystem.GetObjectsData): ReturnType<typeof useQuery<FileSystem.AnyObjectData[]>> {\r\n    return useQuery({\r\n      queryKey: this.getFileSystemObjectsQueryKey(fileSystemId, getObjectsData),\r\n      queryFn: async (): Promise<FileSystem.AnyObjectData[]> => {\r\n        const fileSystemDatas = await this._fileSystemService.getFileSystemObjects(fileSystemId, getObjectsData)\r\n        fileSystemDatas.forEach(this.setFileSystemObjectQueryData.bind(this));\r\n        return fileSystemDatas;\r\n      }\r\n    });\r\n  }\r\n\r\n  private getFileSystemObjectQueryKey(fileSystemId: string, fileSystemObjectId: string): unknown[] {\r\n    return [ 'file-system-object', fileSystemId, fileSystemObjectId ];\r\n  }\r\n\r\n  private setFileSystemObjectQueryData(anyFileSystemObjectData: FileSystem.AnyObjectData): void {\r\n    this._queryClientManager.queryClient.setQueryData(\r\n      this.getFileSystemObjectQueryKey(anyFileSystemObjectData.fileSystemId, anyFileSystemObjectData.id),\r\n      anyFileSystemObjectData\r\n    );\r\n  }\r\n\r\n  private invalidateFileSystemObjectQueryData(fileSystemId: string, fileSystemObjectId: string): void {\r\n    this._queryClientManager.queryClient.invalidateQueries({\r\n      queryKey: this.getFileSystemObjectQueryKey(fileSystemId, fileSystemObjectId)\r\n    });\r\n  }\r\n\r\n  private getFileSystemObjectsQueryKey(fileSystemId: string, getObjectsData: FileSystem.GetObjectsData): unknown[] {\r\n    return [ 'file-system-objects', fileSystemId, getObjectsData ];\r\n  }\r\n  \r\n  private getBatcher(fileSystemId: string): Batcher<string, FileSystem.AnyObjectData> {\r\n    const self = this;\r\n\r\n    let batcher = this._batchers.get(fileSystemId);\r\n    if (!batcher) {\r\n      batcher = new Batcher(onFetch);\r\n      this._batchers.set(fileSystemId, batcher);\r\n    }\r\n\r\n    return batcher;\r\n\r\n    async function onFetch(ids: string[]): Promise<Map<string, FileSystem.AnyObjectData>> {\r\n      const getObjectsData = await FileSystem.GetObjectsSchema.parseAsync({ ids });\r\n      const anyObjectDatas = await self._fileSystemService.getFileSystemObjects(fileSystemId, getObjectsData);\r\n      const anyObjectDataEntries = anyObjectDatas.map((anyFileSystemObjectData: FileSystem.AnyObjectData): [string, FileSystem.AnyObjectData] => [ anyFileSystemObjectData.id, anyFileSystemObjectData ]);\r\n      return new Map(anyObjectDataEntries);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default FileSystemStore;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;;;;;AAGO,MAAM;IAEH,sBAAsB,6IAAE,CAAC,GAAG,CAAC,0LAA2B,EAAE;IAC1D,qBAAqB,6IAAE,CAAC,GAAG,CAAC,wLAA0B,EAAE;IACxD,YAAY,IAAI,MAAyD;IAEjF,6BAA6B,YAAoB,EAAE,yBAA+D,EAAkE;QAClL,OAAO,IAAA,6LAAW,EAAC;YACjB,YAAY,IAA+C,IAAI,CAAC,kBAAkB,CAAC,+BAA+B,CAAC,cAAc;YACjI,WAAW,CAAC;gBACV,IAAI,CAAC,4BAA4B,CAAC;gBAClC,IAAI,wBAAwB,iCAAiC,EAC3D,IAAI,CAAC,mCAAmC,CAAC,cAAc,wBAAwB,iCAAiC;YACpH;QACF;IACF;IAEA,wBAAwB,YAAoB,EAAE,oBAAqD,EAA6D;QAC9J,OAAO,IAAA,6LAAW,EAAC;YACjB,YAAY,IAA0C,IAAI,CAAC,kBAAkB,CAAC,0BAA0B,CAAC,cAAc;YACvH,WAAW,CAAC;gBACV,IAAI,CAAC,4BAA4B,CAAC;gBAClC,IAAI,mBAAmB,iCAAiC,EACtD,IAAI,CAAC,mCAAmC,CAAC,cAAc,mBAAmB,iCAAiC;YAC/G;QACF;IACF;IAEA,uBAAuB,YAAoB,EAAE,kBAA0B,EAAyD;QAC9H,OAAO,IAAA,uLAAQ,EAAC;YACd,UAAU,IAAI,CAAC,2BAA2B,CAAC,cAAc;YACzD,SAAS,IAAyC,IAAI,CAAC,UAAU,CAAC,cAAc,OAAO,CAAC;QAC1F;IACF;IAEA,wBAAwB,YAAoB,EAAE,cAAyC,EAA2D;QAChJ,OAAO,IAAA,uLAAQ,EAAC;YACd,UAAU,IAAI,CAAC,4BAA4B,CAAC,cAAc;YAC1D,SAAS;gBACP,MAAM,kBAAkB,MAAM,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,cAAc;gBACzF,gBAAgB,OAAO,CAAC,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,IAAI;gBACnE,OAAO;YACT;QACF;IACF;IAEQ,4BAA4B,YAAoB,EAAE,kBAA0B,EAAa;QAC/F,OAAO;YAAE;YAAsB;YAAc;SAAoB;IACnE;IAEQ,6BAA6B,uBAAiD,EAAQ;QAC5F,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,YAAY,CAC/C,IAAI,CAAC,2BAA2B,CAAC,wBAAwB,YAAY,EAAE,wBAAwB,EAAE,GACjG;IAEJ;IAEQ,oCAAoC,YAAoB,EAAE,kBAA0B,EAAQ;QAClG,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,iBAAiB,CAAC;YACrD,UAAU,IAAI,CAAC,2BAA2B,CAAC,cAAc;QAC3D;IACF;IAEQ,6BAA6B,YAAoB,EAAE,cAAyC,EAAa;QAC/G,OAAO;YAAE;YAAuB;YAAc;SAAgB;IAChE;IAEQ,WAAW,YAAoB,EAA6C;QAClF,MAAM,OAAO,IAAI;QAEjB,IAAI,UAAU,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;QACjC,IAAI,CAAC,SAAS;YACZ,UAAU,IAAI,gJAAO,CAAC;YACtB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc;QACnC;QAEA,OAAO;;;QAEP,eAAe,QAAQ,GAAa;YAClC,MAAM,iBAAiB,MAAM,oNAAU,CAAC,gBAAgB,CAAC,UAAU,CAAC;gBAAE;YAAI;YAC1E,MAAM,iBAAiB,MAAM,KAAK,kBAAkB,CAAC,oBAAoB,CAAC,cAAc;YACxF,MAAM,uBAAuB,eAAe,GAAG,CAAC,CAAC,0BAA0F;oBAAE,wBAAwB,EAAE;oBAAE;iBAAyB;YAClM,OAAO,IAAI,IAAI;QACjB;IACF;AAEF;;;;uCAEe","debugId":null}},
    {"offset": {"line": 1791, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/di/stores/FileSystemStoreInjector.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport FileSystemStore from '@/stores/FileSystemStore';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport const FileSystemStoreServiceId: ServiceIdentifier<FileSystemStore> = Symbol.for('FileSystemStoreServiceId');\r\ndi.bind<FileSystemStore>(FileSystemStoreServiceId)\r\n  .to(FileSystemStore)\r\n  .inSingletonScope();"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGO,MAAM,2BAA+D,OAAO,GAAG,CAAC;AACvF,6IAAE,CAAC,IAAI,CAAkB,0BACtB,EAAE,CAAC,mJAAe,EAClB,gBAAgB","debugId":null}},
    {"offset": {"line": 1805, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/file-system/FileSystemContext.ts"],"sourcesContent":["import { FileSystem } from '@strife/common';\r\nimport React from 'react';\r\n\r\nexport interface FileSystemContextValue {\r\n  fileSystemData?: FileSystem.Data\r\n}\r\n\r\nexport const FileSystemContext = React.createContext<FileSystemContextValue | undefined>(undefined);\r\n\r\nexport function useFileSystemContext(): FileSystemContextValue {\r\n  const fileSystemContext = React.useContext(FileSystemContext);\r\n  if (!fileSystemContext)\r\n    throw new Error(`Missing ${typeof FileSystemContext}`);\r\n\r\n  return fileSystemContext;\r\n}\r\n\r\nexport default FileSystemContext;"],"names":[],"mappings":";;;;;;;;AACA;;AAMO,MAAM,kCAAoB,gNAAK,CAAC,aAAa,CAAqC;AAElF,SAAS;IACd,MAAM,oBAAoB,gNAAK,CAAC,UAAU,CAAC;IAC3C,IAAI,CAAC,mBACH,MAAM,IAAI,MAAM,CAAC,QAAQ,EAAE,OAAO,mBAAmB;IAEvD,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 1826, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/file-system/dialogs/CreateFileSystemDirectoryDialog.tsx"],"sourcesContent":["import { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, FormHelperText, Input, InputLabel, type DialogProps } from '@mui/material';\r\nimport { FileSystem } from '@strife/common';\r\nimport React from 'react';\r\n\r\nexport interface CreateFileSystemDialogProps extends DialogProps {\r\n  parentFileSystemDirectoryObjectId: string,\r\n  onCancel?: () => void;\r\n  onCreate?: (createDirectoryObjectData: FileSystem.CreateDirectoryObjectData) => void;\r\n}\r\n\r\nexport default function CreateFileSystemDialog({ parentFileSystemDirectoryObjectId, onCancel, onCreate, ...dialogProps }: CreateFileSystemDialogProps): React.JSX.Element {  \r\n  const [ name, setName ] = React.useState('');\r\n  const [ nameError, setNameError ] = React.useState<string | undefined>();\r\n  \r\n  return <Dialog {...dialogProps}>\r\n    <DialogTitle>Create New Directory</DialogTitle>\r\n    <DialogContent dividers>\r\n      <Box id='create-form' component='form' display='flex' flexDirection='column' gap='16px' onSubmit={onSubmitCreate}>\r\n        <Box display='flex' flexDirection='column' gap='16px' paddingY='16px'>\r\n          <FormControl>\r\n            <InputLabel htmlFor='name'>Name</InputLabel>\r\n            <Input id='name' name='name' type='name' value={name} onChange={onChangeName} error={nameError != undefined} placeholder='name' />\r\n            <FormHelperText error={true}>{nameError}</FormHelperText>\r\n          </FormControl>\r\n        </Box>\r\n      </Box>\r\n    </DialogContent>\r\n    <DialogActions>\r\n      <Button onClick={onCancel}>Cancel</Button>\r\n      <Button type='submit' form='create-form' variant='contained'>Create</Button>\r\n    </DialogActions>\r\n  </Dialog>;\r\n\r\n  function onChangeName(event: React.ChangeEvent<HTMLInputElement>): void {\r\n    const name = event.target.value;\r\n    setName(name)\r\n    // const error = name.length == 0 \r\n    //   ? undefined\r\n    //   : validateName(name);\r\n    // setNameError(error ? error.message : undefined);\r\n  }\r\n\r\n  async function onSubmitCreate(event: React.FormEvent<HTMLFormElement>): Promise<void> {\r\n    event.preventDefault();\r\n\r\n    if (nameError)\r\n      return;\r\n\r\n    const createFileSystemDirectoryData = await FileSystem.CreateDirectoryObjectSchema.parseAsync({\r\n      parentFileSystemDirectoryObjectId,\r\n      fileSystemObjectType: FileSystem.ObjectType.Directory,\r\n      name\r\n    });\r\n    \r\n    if (onCreate)\r\n      onCreate(createFileSystemDirectoryData);\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;;;;;AAQe,SAAS,uBAAuB,EAAE,iCAAiC,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,aAA0C;IACnJ,MAAM,CAAE,MAAM,QAAS,GAAG,gNAAK,CAAC,QAAQ,CAAC;IACzC,MAAM,CAAE,WAAW,aAAc,GAAG,gNAAK,CAAC,QAAQ;IAElD,qBAAO,8OAAC,2MAAM;QAAE,GAAG,WAAW;;0BAC5B,8OAAC,+NAAW;0BAAC;;;;;;0BACb,8OAAC,uOAAa;gBAAC,QAAQ;0BACrB,cAAA,8OAAC,+LAAG;oBAAC,IAAG;oBAAc,WAAU;oBAAO,SAAQ;oBAAO,eAAc;oBAAS,KAAI;oBAAO,UAAU;8BAChG,cAAA,8OAAC,+LAAG;wBAAC,SAAQ;wBAAO,eAAc;wBAAS,KAAI;wBAAO,UAAS;kCAC7D,cAAA,8OAAC,+NAAW;;8CACV,8OAAC,2NAAU;oCAAC,SAAQ;8CAAO;;;;;;8CAC3B,8OAAC,uMAAK;oCAAC,IAAG;oCAAO,MAAK;oCAAO,MAAK;oCAAO,OAAO;oCAAM,UAAU;oCAAc,OAAO,aAAa;oCAAW,aAAY;;;;;;8CACzH,8OAAC,2OAAc;oCAAC,OAAO;8CAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAKtC,8OAAC,uOAAa;;kCACZ,8OAAC,2MAAM;wBAAC,SAAS;kCAAU;;;;;;kCAC3B,8OAAC,2MAAM;wBAAC,MAAK;wBAAS,MAAK;wBAAc,SAAQ;kCAAY;;;;;;;;;;;;;;;;;;;;IAIjE,SAAS,aAAa,KAA0C;QAC9D,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK;QAC/B,QAAQ;IACR,kCAAkC;IAClC,gBAAgB;IAChB,0BAA0B;IAC1B,mDAAmD;IACrD;IAEA,eAAe,eAAe,KAAuC;QACnE,MAAM,cAAc;QAEpB,IAAI,WACF;QAEF,MAAM,gCAAgC,MAAM,oNAAU,CAAC,2BAA2B,CAAC,UAAU,CAAC;YAC5F;YACA,sBAAsB,oNAAU,CAAC,UAAU,CAAC,SAAS;YACrD;QACF;QAEA,IAAI,UACF,SAAS;IACb;AACF","debugId":null}},
    {"offset": {"line": 1984, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/file-system/FileSystemFileObjectListItem.tsx"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { ContextMenuManagerServiceId } from '@/di/managers/ContextMenuManagerInjector';\r\nimport { ContextMenuData } from '@/managers/ContextMenuManager';\r\nimport { useFileSystemContext } from '@components/file-system//FileSystemContext';\r\nimport { ListItem, ListItemButton, type ListItemProps, ListItemText, MenuItem, Stack } from '@mui/material';\r\nimport { FileSystem } from '@strife/common';\r\nimport React from 'react';\r\n\r\nexport interface FileSystemFileObjectListItemProps extends ListItemProps {\r\n  fileSystemObjectId: string\r\n}\r\n\r\nexport default function FileSystemFileObjectListItem({ fileSystemObjectId, ...listItemProps }: FileSystemFileObjectListItemProps): React.JSX.Element {\r\n  const contextMenuManager = di.get(ContextMenuManagerServiceId);\r\n  const { fileSystemData } = useFileSystemContext();\r\n  const [ fileSystemFileData, setFileSystemFileData ] = React.useState<FileSystem.FileObjectData>();\r\n  React.useEffect(initializationEffect, []);\r\n\r\n  if (!fileSystemData || !fileSystemFileData)\r\n    return <React.Fragment />;\r\n  \r\n  return <ListItem disablePadding {...listItemProps}>\r\n    <Stack display='flex' flexDirection='column' flexGrow={1}>\r\n      <ListItemButton onClick={onClick} onContextMenu={onContextMenu}>\r\n        <ListItemText>\r\n          {fileSystemFileData.name}\r\n        </ListItemText>\r\n      </ListItemButton>\r\n    </Stack>\r\n  </ListItem>;\r\n  \r\n  function initializationEffect(): void {\r\n    getFileSystemFile();\r\n  }\r\n\r\n  function onClick(event: React.MouseEvent): void {\r\n    event.stopPropagation(); \r\n  }\r\n\r\n  function onContextMenu(event: React.MouseEvent): void {\r\n    event.preventDefault();\r\n    const contextMenuData: ContextMenuData = {\r\n      event,\r\n      items: [ \r\n        <MenuItem key='rename' onClick={onClickRename}>Rename</MenuItem>,\r\n        <MenuItem key='delete' onClick={onClickDelete}>Delete</MenuItem>,\r\n      ]\r\n    };\r\n    contextMenuManager.request(contextMenuData);\r\n  }\r\n\r\n  function onClickRename(): void {}\r\n  function onClickDelete(): void {}\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;;;;;;;AAMe,SAAS,6BAA6B,EAAE,kBAAkB,EAAE,GAAG,eAAkD;IAC9H,MAAM,qBAAqB,6IAAE,CAAC,GAAG,CAAC,0LAA2B;IAC7D,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,iLAAoB;IAC/C,MAAM,CAAE,oBAAoB,sBAAuB,GAAG,gNAAK,CAAC,QAAQ;IACpE,gNAAK,CAAC,SAAS,CAAC,sBAAsB,EAAE;IAExC,IAAI,CAAC,kBAAkB,CAAC,oBACtB,qBAAO,8OAAC,gNAAK,CAAC,QAAQ;;;;;IAExB,qBAAO,8OAAC,mNAAQ;QAAC,cAAc;QAAE,GAAG,aAAa;kBAC/C,cAAA,8OAAC,uMAAK;YAAC,SAAQ;YAAO,eAAc;YAAS,UAAU;sBACrD,cAAA,8OAAC,2OAAc;gBAAC,SAAS;gBAAS,eAAe;0BAC/C,cAAA,8OAAC,mOAAY;8BACV,mBAAmB,IAAI;;;;;;;;;;;;;;;;;;;;;;;IAMhC,SAAS;QACP;IACF;IAEA,SAAS,QAAQ,KAAuB;QACtC,MAAM,eAAe;IACvB;IAEA,SAAS,cAAc,KAAuB;QAC5C,MAAM,cAAc;QACpB,MAAM,kBAAmC;YACvC;YACA,OAAO;8BACL,8OAAC,mNAAQ;oBAAc,SAAS;8BAAe;mBAAjC;;;;;8BACd,8OAAC,mNAAQ;oBAAc,SAAS;8BAAe;mBAAjC;;;;;aACf;QACH;QACA,mBAAmB,OAAO,CAAC;IAC7B;IAEA,SAAS,iBAAuB;IAChC,SAAS,iBAAuB;AAClC","debugId":null}},
    {"offset": {"line": 2086, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/file-system/FileSystemObjectListItem.tsx"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { FileSystemStoreServiceId } from '@/di/stores/FileSystemStoreInjector';\r\nimport { useFileSystemContext } from '@components/file-system//FileSystemContext';\r\nimport FileSystemDirectoryObjectListItem from '@components/file-system/FileSystemDirectoryObjectListItem';\r\nimport FileSystemFileObjectListItem from '@components/file-system/FileSystemFileObjectListItem';\r\nimport { type ListItemProps } from '@mui/material';\r\nimport { FileSystem } from '@strife/common';\r\nimport React from 'react';\r\n\r\nexport interface FileSystemObjectListItemProps extends ListItemProps {\r\n  fileSystemObjectId: string\r\n}\r\n\r\nexport default function FileSystemObjectListItem({ fileSystemObjectId, ...listItemProps }: FileSystemObjectListItemProps): React.JSX.Element {\r\n  const { fileSystemData } = useFileSystemContext();\r\n\r\n  if (!fileSystemData)\r\n    return <React.Fragment />;\r\n\r\n  const fileSystemStore = di.get(FileSystemStoreServiceId);\r\n  const { data: anyFileSystemObjectData } = fileSystemStore.useGetFileSystemObject(fileSystemData.id, fileSystemObjectId);\r\n  if (!anyFileSystemObjectData)\r\n    return <React.Fragment />;\r\n\r\n  switch (anyFileSystemObjectData.type) {\r\n    case FileSystem.ObjectType.Directory:\r\n      return <FileSystemDirectoryObjectListItem fileSystemObjectId={fileSystemObjectId} {...listItemProps} />\r\n    case FileSystem.ObjectType.File:\r\n      return <FileSystemFileObjectListItem fileSystemObjectId={fileSystemObjectId} {...listItemProps} />\r\n    default: \r\n      return <React.Fragment />;\r\n  }\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;;;;;;;;;AAMe,SAAS,yBAAyB,EAAE,kBAAkB,EAAE,GAAG,eAA8C;IACtH,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,iLAAoB;IAE/C,IAAI,CAAC,gBACH,qBAAO,8OAAC,gNAAK,CAAC,QAAQ;;;;;IAExB,MAAM,kBAAkB,6IAAE,CAAC,GAAG,CAAC,kLAAwB;IACvD,MAAM,EAAE,MAAM,uBAAuB,EAAE,GAAG,gBAAgB,sBAAsB,CAAC,eAAe,EAAE,EAAE;IACpG,IAAI,CAAC,yBACH,qBAAO,8OAAC,gNAAK,CAAC,QAAQ;;;;;IAExB,OAAQ,wBAAwB,IAAI;QAClC,KAAK,oNAAU,CAAC,UAAU,CAAC,SAAS;YAClC,qBAAO,8OAAC,qLAAiC;gBAAC,oBAAoB;gBAAqB,GAAG,aAAa;;;;;;QACrG,KAAK,oNAAU,CAAC,UAAU,CAAC,IAAI;YAC7B,qBAAO,8OAAC,gLAA4B;gBAAC,oBAAoB;gBAAqB,GAAG,aAAa;;;;;;QAChG;YACE,qBAAO,8OAAC,gNAAK,CAAC,QAAQ;;;;;IAC1B;AACF","debugId":null}},
    {"offset": {"line": 2152, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/file-system/FileSystemDirectoryObjectListItem.tsx"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { ContextMenuManagerServiceId } from '@/di/managers/ContextMenuManagerInjector';\r\nimport { FileSystemStoreServiceId } from '@/di/stores/FileSystemStoreInjector';\r\nimport { ContextMenuData } from '@/managers/ContextMenuManager';\r\nimport { useFileSystemContext } from '@components/file-system//FileSystemContext';\r\nimport CreateFileSystemDirectoryDialog from '@components/file-system/dialogs/CreateFileSystemDirectoryDialog';\r\nimport FileSystemObjectListItem from '@components/file-system/FileSystemObjectListItem';\r\nimport { ChevronRight as ChevronRightIcon } from '@mui/icons-material';\r\nimport { Box, Divider, List, ListItem, ListItemButton, type ListItemProps, ListItemText, MenuItem, Stack, useTheme } from '@mui/material';\r\nimport { FileSystem } from '@strife/common';\r\nimport React from 'react';\r\n\r\nexport interface FileSystemDirectoryObjectListItemProps extends ListItemProps {\r\n  fileSystemObjectId: string\r\n}\r\n\r\nexport default function FileSystemDirectoryObjectListItem({ fileSystemObjectId, ...listItemProps }: FileSystemDirectoryObjectListItemProps): React.JSX.Element {\r\n  const contextMenuManager = di.get(ContextMenuManagerServiceId);\r\n  const theme = useTheme();\r\n  const { fileSystemData } = useFileSystemContext();\r\n  const [ fileSystemDirectoryData, setFileSystemDirectoryData ] = React.useState<FileSystem.DirectoryObjectData>();\r\n  const [ isOpen, setIsOpen ] = React.useState(false);\r\n  const [ isCreateDialogOpen, setIsCreateDialogOpen ] = React.useState(false);\r\n\r\n  if (!fileSystemData)\r\n    return <React.Fragment />;\r\n\r\n  const fileSystemStore = di.get(FileSystemStoreServiceId);\r\n  const { data: directoryObjectData }\r\n\r\n  const fileSystemDirectoryListItems = fileSystemDirectoryData.childrenFileSystemObjectIds.map(\r\n    (childFileSystemObjectId: string, index: number): React.JSX.Element => \r\n      <FileSystemObjectListItem key={index} fileSystemObjectId={childFileSystemObjectId} />\r\n  );\r\n\r\n  return <ListItem disablePadding {...listItemProps}>\r\n    <Stack display='flex' flexDirection='column' flexGrow={1}>\r\n      <ListItemButton onClick={onClick} onContextMenu={onContextMenu}>\r\n        <ChevronRightIcon className={ isOpen ? 'rotate-90' : undefined } />\r\n        <ListItemText>\r\n          {fileSystemDirectoryData.name}\r\n        </ListItemText>\r\n      </ListItemButton>\r\n      <Box paddingLeft={1} borderLeft={`2px solid ${theme.palette.divider}`}>\r\n        {\r\n          isOpen\r\n            ? <List>\r\n                {fileSystemDirectoryListItems}\r\n              </List>\r\n            : undefined\r\n        }\r\n      </Box>\r\n    </Stack>\r\n    <CreateFileSystemDirectoryDialog parentFileSystemDirectoryObjectId={fileSystemObjectId} open={isCreateDialogOpen} onCancel={onCancelCreateProjectDialog} onClose={onCloseCreateProjectDialog} onCreate={onCreateCreateProjectDialog} fullWidth maxWidth='sm' />\r\n  </ListItem>;\r\n\r\n  function onClick(event: React.MouseEvent): void {\r\n    event.stopPropagation(); \r\n    setIsOpen(!isOpen);\r\n  }\r\n\r\n  function onContextMenu(event: React.MouseEvent): void {\r\n    event.preventDefault();\r\n    const contextMenuData: ContextMenuData = {\r\n      event,\r\n      items: [ \r\n        <MenuItem key='create-directory' onClick={onClickCreateDirectory}>Create Directory</MenuItem>,\r\n        <MenuItem key='create-file' onClick={onClickCreateFile}>Create File</MenuItem>,\r\n        <Divider key='divider' />,\r\n        <MenuItem key='rename' onClick={onClickRename}>Rename</MenuItem>,\r\n        <MenuItem key='delete' onClick={onClickDelete}>Delete</MenuItem>,\r\n      ]\r\n    };\r\n    contextMenuManager.request(contextMenuData);\r\n  }\r\n\r\n  function onClickCreateDirectory(): void {\r\n    setIsCreateDialogOpen(true);\r\n  }\r\n\r\n  function onCloseCreateProjectDialog(): void {\r\n    setIsCreateDialogOpen(false);\r\n  }\r\n  \r\n  function onCancelCreateProjectDialog(): void {\r\n    setIsCreateDialogOpen(false);\r\n  }\r\n\r\n  async function onCreateCreateProjectDialog(createDirectoryObjectData: FileSystem.CreateDirectoryObjectData): Promise<void> {\r\n    if (!fileSystemData)\r\n      return;\r\n\r\n    await fileSystemStore.createFileSystemDirectoryObject(fileSystemData.id, createDirectoryObjectData);\r\n    setIsCreateDialogOpen(false);\r\n    setIsOpen(true);\r\n    getFileSystemDirectory();\r\n  }\r\n\r\n  function onClickCreateFile(): void {}\r\n  function onClickRename(): void {}\r\n  function onClickDelete(): void {}\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;;;;;;;;;;;AAMe,SAAS,kCAAkC,EAAE,kBAAkB,EAAE,GAAG,eAAuD;IACxI,MAAM,qBAAqB,6IAAE,CAAC,GAAG,CAAC,0LAA2B;IAC7D,MAAM,QAAQ,IAAA,iNAAQ;IACtB,MAAM,EAAE,cAAc,EAAE,GAAG,IAAA,iLAAoB;IAC/C,MAAM,CAAE,yBAAyB,2BAA4B,GAAG,gNAAK,CAAC,QAAQ;IAC9E,MAAM,CAAE,QAAQ,UAAW,GAAG,gNAAK,CAAC,QAAQ,CAAC;IAC7C,MAAM,CAAE,oBAAoB,sBAAuB,GAAG,gNAAK,CAAC,QAAQ,CAAC;IAErE,IAAI,CAAC,gBACH,qBAAO,8OAAC,gNAAK,CAAC,QAAQ;;;;;IAExB,MAAM,kBAAkB,6IAAE,CAAC,GAAG,CAAC,kLAAwB;IACvD,MAAM,EAAE,MAAM,mBAAmB,EAAE;IAEnC,MAAM,+BAA+B,wBAAwB,2BAA2B,CAAC,GAAG,CAC1F,CAAC,yBAAiC,sBAChC,8OAAC,4KAAwB;YAAa,oBAAoB;WAA3B;;;;;IAGnC,qBAAO,8OAAC,mNAAQ;QAAC,cAAc;QAAE,GAAG,aAAa;;0BAC/C,8OAAC,uMAAK;gBAAC,SAAQ;gBAAO,eAAc;gBAAS,UAAU;;kCACrD,8OAAC,2OAAc;wBAAC,SAAS;wBAAS,eAAe;;0CAC/C,8OAAC,4KAAgB;gCAAC,WAAY,SAAS,cAAc;;;;;;0CACrD,8OAAC,mOAAY;0CACV,wBAAwB,IAAI;;;;;;;;;;;;kCAGjC,8OAAC,+LAAG;wBAAC,aAAa;wBAAG,YAAY,CAAC,UAAU,EAAE,MAAM,OAAO,CAAC,OAAO,EAAE;kCAEjE,uBACI,8OAAC,mMAAI;sCACF;;;;;mCAEH;;;;;;;;;;;;0BAIV,8OAAC,8LAA+B;gBAAC,mCAAmC;gBAAoB,MAAM;gBAAoB,UAAU;gBAA6B,SAAS;gBAA4B,UAAU;gBAA6B,SAAS;gBAAC,UAAS;;;;;;;;;;;;;;IAG1P,SAAS,QAAQ,KAAuB;QACtC,MAAM,eAAe;QACrB,UAAU,CAAC;IACb;IAEA,SAAS,cAAc,KAAuB;QAC5C,MAAM,cAAc;QACpB,MAAM,kBAAmC;YACvC;YACA,OAAO;8BACL,8OAAC,mNAAQ;oBAAwB,SAAS;8BAAwB;mBAApD;;;;;8BACd,8OAAC,mNAAQ;oBAAmB,SAAS;8BAAmB;mBAA1C;;;;;8BACd,8OAAC,+MAAO,MAAK;;;;;8BACb,8OAAC,mNAAQ;oBAAc,SAAS;8BAAe;mBAAjC;;;;;8BACd,8OAAC,mNAAQ;oBAAc,SAAS;8BAAe;mBAAjC;;;;;aACf;QACH;QACA,mBAAmB,OAAO,CAAC;IAC7B;IAEA,SAAS;QACP,sBAAsB;IACxB;IAEA,SAAS;QACP,sBAAsB;IACxB;IAEA,SAAS;QACP,sBAAsB;IACxB;IAEA,eAAe,4BAA4B,yBAA+D;QACxG,IAAI,CAAC,gBACH;QAEF,MAAM,gBAAgB,+BAA+B,CAAC,eAAe,EAAE,EAAE;QACzE,sBAAsB;QACtB,UAAU;QACV;IACF;IAEA,SAAS,qBAA2B;IACpC,SAAS,iBAAuB;IAChC,SAAS,iBAAuB;AAClC","debugId":null}},
    {"offset": {"line": 2354, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/file-system/FileSystemContextProvider.tsx"],"sourcesContent":["import FileSystemContext, { type FileSystemContextValue } from '@components/file-system/FileSystemContext';\r\nimport { FileSystem } from '@strife/common';\r\nimport React from 'react';\r\n\r\nexport interface FileSystemContextProviderProps extends React.PropsWithChildren {\r\n  fileSystemData: FileSystem.Data\r\n}\r\n\r\nexport function FileSystemContextProvider({ fileSystemData, children }: FileSystemContextProviderProps): React.JSX.Element {\r\n  const value: FileSystemContextValue = {\r\n    fileSystemData\r\n  };\r\n\r\n  return <FileSystemContext.Provider value={value}>\r\n    {children}\r\n  </FileSystemContext.Provider>;\r\n}\r\n\r\nexport default FileSystemContextProvider;"],"names":[],"mappings":";;;;;;;AAAA;;;AAQO,SAAS,0BAA0B,EAAE,cAAc,EAAE,QAAQ,EAAkC;IACpG,MAAM,QAAgC;QACpC;IACF;IAEA,qBAAO,8OAAC,oKAAiB,CAAC,QAAQ;QAAC,OAAO;kBACvC;;;;;;AAEL;uCAEe","debugId":null}},
    {"offset": {"line": 2382, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/editor/widgets/FileSystemWidget.tsx"],"sourcesContent":["import { useProjectContext } from '@components/project/ProjectContext';\r\nimport FileSystemDirectoryObjectListItem from '@components/file-system/FileSystemDirectoryObjectListItem';\r\nimport Widget, { type WidgetProps } from '@components/editor/widgets/Widget';\r\nimport { List, ListItemButton, type ListItemButtonProps } from '@mui/material';\r\nimport React from 'react';\r\nimport FileSystemContextProvider from '@root/components/file-system/FileSystemContextProvider';\r\n\r\nexport interface FileSystemWidgetProps extends WidgetProps {}\r\n\r\nexport default function FileSystemWidget({ ...widgetProps }: FileSystemWidgetProps): React.JSX.Element {\r\n  const { projectData: project } = useProjectContext();\r\n\r\n  if (!project)\r\n    return <React.Fragment />\r\n\r\n  return <Widget {...widgetProps}>\r\n    <FileSystemContextProvider fileSystemData={project.fileSystem}>\r\n      <List>\r\n        <FileSystemDirectoryObjectListItem fileSystemObjectId={project.fileSystem.rootFileSystemObjectId} />\r\n      </List>\r\n    </FileSystemContextProvider>\r\n  </Widget>;\r\n}\r\n\r\ninterface FolderListItemButtonProps extends ListItemButtonProps {\r\n  projectId: string,\r\n  fileSystemObjectId: string\r\n}\r\n\r\ninterface FileListItemButtonProps extends ListItemButtonProps {\r\n  \r\n}\r\n\r\nfunction FileListItemButton({ ...listItemButtonProps }: FileListItemButtonProps): React.JSX.Element {\r\n  return <ListItemButton {...listItemButtonProps} onClick={event => event.stopPropagation()}>\r\n    File\r\n  </ListItemButton>;\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;AAIe,SAAS,iBAAiB,EAAE,GAAG,aAAoC;IAChF,MAAM,EAAE,aAAa,OAAO,EAAE,GAAG,IAAA,oKAAiB;IAElD,IAAI,CAAC,SACH,qBAAO,8OAAC,gNAAK,CAAC,QAAQ;;;;;IAExB,qBAAO,8OAAC,6JAAM;QAAE,GAAG,WAAW;kBAC5B,cAAA,8OAAC,6KAAyB;YAAC,gBAAgB,QAAQ,UAAU;sBAC3D,cAAA,8OAAC,mMAAI;0BACH,cAAA,8OAAC,qLAAiC;oBAAC,oBAAoB,QAAQ,UAAU,CAAC,sBAAsB;;;;;;;;;;;;;;;;;;;;;AAIxG;AAWA,SAAS,mBAAmB,EAAE,GAAG,qBAA8C;IAC7E,qBAAO,8OAAC,2OAAc;QAAE,GAAG,mBAAmB;QAAE,SAAS,CAAA,QAAS,MAAM,eAAe;kBAAI;;;;;;AAG7F","debugId":null}},
    {"offset": {"line": 2451, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/editor/views/CodeView.tsx"],"sourcesContent":["import View, { type ViewProps } from '@components/editor/views/View';\r\nimport AceEditorWidget from '@components/editor/widgets/AceEditorWidget';\r\nimport FileSystemWidget from '@root/components/editor/widgets/FileSystemWidget';\r\nimport React from 'react';\r\n\r\nexport interface CodeViewProps extends ViewProps {}\r\n\r\nexport function CodeView({ ...viewProps }: CodeViewProps): React.JSX.Element {\r\n  return <View display='flex' flexDirection='row' {...viewProps}>\r\n    <FileSystemWidget />\r\n    <AceEditorWidget />\r\n  </View>\r\n}\r\n\r\nexport default CodeView;"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;;;;;AAKO,SAAS,SAAS,EAAE,GAAG,WAA0B;IACtD,qBAAO,8OAAC,yJAAI;QAAC,SAAQ;QAAO,eAAc;QAAO,GAAG,SAAS;;0BAC3D,8OAAC,uKAAgB;;;;;0BACjB,8OAAC,sKAAe;;;;;;;;;;;AAEpB;uCAEe","debugId":null}},
    {"offset": {"line": 2493, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/projects/%5BprojectId%5D/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport di from '@/DependencyInjection';\r\nimport { ProjectServiceServiceId } from '@/di/services/ProjectServiceInjector';\r\nimport EnumTabs from '@components/generic/EnumTabs';\r\nimport AuthenticatedPage from '@components/page/AuthenticatedPage';\r\nimport { Box, Stack, Typography, useMediaQuery, useTheme } from '@mui/material';\r\nimport ProjectContextProvider from '@components/project/ProjectContextProvider';\r\nimport CodeView from '@root/components/editor/views/CodeView';\r\nimport { type ProjectData } from '@strife/common';\r\nimport React from 'react';\r\n\r\nenum EditorTabs {\r\n  'Code',\r\n  'Scene',\r\n  'Play'\r\n}\r\n\r\nexport interface ProjectPageProps {\r\n  params: Promise<{ projectId: string }>\r\n}\r\n\r\nexport function ProjectPage({ params }: ProjectPageProps): React.JSX.Element {\r\n  \r\n  const { projectId } = React.use(params);\r\n  const projectService = di.get(ProjectServiceServiceId);\r\n  const [ projectData, setProjectData ] = React.useState<ProjectData | undefined>();\r\n  const [ tab, setTab ] = React.useState(0);\r\n  React.useEffect(initializationEffect, []);\r\n\r\n  const theme = useTheme();\r\n  const isDesktop = useMediaQuery(theme.breakpoints.up('md'));\r\n\r\n  let content: React.ReactNode;\r\n  switch (tab) {\r\n    case EditorTabs.Code:\r\n      content = <CodeView />;\r\n      break;\r\n  }\r\n\r\n  const primaryAppBarChildren = isDesktop\r\n    ? <Box display='flex' flexDirection='row' alignItems='center'>\r\n      <Stack paddingX='32px'>\r\n        <Typography variant='subtitle1'>{projectData?.name}</Typography>\r\n        <Typography variant='subtitle2'>{projectData?.description}</Typography>\r\n      </Stack>\r\n      <Box flexGrow={1}>\r\n        <EnumTabs type={EditorTabs} value={tab} onChange={onTabChange} textColor='inherit' indicatorColor='secondary' centered />\r\n      </Box>\r\n    </Box>\r\n    : undefined;\r\n\r\n  const secondaryAppBarChildren = !isDesktop\r\n    ? <Box display='flex' flexDirection='row' justifyContent='center' alignItems='center'>\r\n        <EnumTabs type={EditorTabs} value={tab} onChange={onTabChange} textColor='inherit' indicatorColor='secondary' centered />\r\n      </Box>\r\n    : undefined;\r\n\r\n  return <AuthenticatedPage primaryAppBarProps={{ children: primaryAppBarChildren }} secondaryAppBarProps={{ children: secondaryAppBarChildren, sx: { alignItems: 'center' } }}>\r\n    <ProjectContextProvider projectId={projectId}>\r\n      <Box height='100%' display='flex' flexDirection='row'>\r\n        {content}\r\n      </Box>\r\n    </ProjectContextProvider>\r\n  </AuthenticatedPage>;\r\n  \r\n  function onTabChange(event: React.SyntheticEvent, value: number): void {\r\n    setTab(value);\r\n  }\r\n\r\n  function initializationEffect(): void {\r\n    getProject();\r\n  }\r\n\r\n  async function getProject(): Promise<ProjectData> {\r\n    const projectData = await projectService.getProject(projectId);\r\n    setProjectData(projectData);\r\n    return projectData;\r\n  }\r\n}\r\n\r\nexport default ProjectPage;"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAVA;;;;;;;;;;AAYA,IAAA,AAAK,oCAAA;;;;WAAA;EAAA;AAUE,SAAS,YAAY,EAAE,MAAM,EAAoB;IAEtD,MAAM,EAAE,SAAS,EAAE,GAAG,gNAAK,CAAC,GAAG,CAAC;IAChC,MAAM,iBAAiB,6IAAE,CAAC,GAAG,CAAC,kLAAuB;IACrD,MAAM,CAAE,aAAa,eAAgB,GAAG,gNAAK,CAAC,QAAQ;IACtD,MAAM,CAAE,KAAK,OAAQ,GAAG,gNAAK,CAAC,QAAQ,CAAC;IACvC,gNAAK,CAAC,SAAS,CAAC,sBAAsB,EAAE;IAExC,MAAM,QAAQ,IAAA,iNAAQ;IACtB,MAAM,YAAY,IAAA,+NAAa,EAAC,MAAM,WAAW,CAAC,EAAE,CAAC;IAErD,IAAI;IACJ,OAAQ;QACN;YACE,wBAAU,8OAAC,6JAAQ;;;;;YACnB;IACJ;IAEA,MAAM,wBAAwB,0BAC1B,8OAAC,+LAAG;QAAC,SAAQ;QAAO,eAAc;QAAM,YAAW;;0BACnD,8OAAC,uMAAK;gBAAC,UAAS;;kCACd,8OAAC,2NAAU;wBAAC,SAAQ;kCAAa,aAAa;;;;;;kCAC9C,8OAAC,2NAAU;wBAAC,SAAQ;kCAAa,aAAa;;;;;;;;;;;;0BAEhD,8OAAC,+LAAG;gBAAC,UAAU;0BACb,cAAA,8OAAC,qJAAQ;oBAAC,MAAM;oBAAY,OAAO;oBAAK,UAAU;oBAAa,WAAU;oBAAU,gBAAe;oBAAY,QAAQ;;;;;;;;;;;;;;;;eAGxH;IAEJ,MAAM,0BAA0B,CAAC,0BAC7B,8OAAC,+LAAG;QAAC,SAAQ;QAAO,eAAc;QAAM,gBAAe;QAAS,YAAW;kBACzE,cAAA,8OAAC,qJAAQ;YAAC,MAAM;YAAY,OAAO;YAAK,UAAU;YAAa,WAAU;YAAU,gBAAe;YAAY,QAAQ;;;;;;;;;;eAExH;IAEJ,qBAAO,8OAAC,2JAAiB;QAAC,oBAAoB;YAAE,UAAU;QAAsB;QAAG,sBAAsB;YAAE,UAAU;YAAyB,IAAI;gBAAE,YAAY;YAAS;QAAE;kBACzK,cAAA,8OAAC,mKAAsB;YAAC,WAAW;sBACjC,cAAA,8OAAC,+LAAG;gBAAC,QAAO;gBAAO,SAAQ;gBAAO,eAAc;0BAC7C;;;;;;;;;;;;;;;;;;IAKP,SAAS,YAAY,KAA2B,EAAE,KAAa;QAC7D,OAAO;IACT;IAEA,SAAS;QACP;IACF;IAEA,eAAe;QACb,MAAM,cAAc,MAAM,eAAe,UAAU,CAAC;QACpD,eAAe;QACf,OAAO;IACT;AACF;uCAEe","debugId":null}}]
}