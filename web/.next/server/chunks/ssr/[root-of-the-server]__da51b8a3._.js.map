{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/DependencyInjection.ts"],"sourcesContent":["import { Container } from 'inversify';\r\n\r\nconst container = new Container();\r\n\r\nexport default container;"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,MAAM,YAAY,IAAI,8KAAS;uCAEhB","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/collections/Queue.ts"],"sourcesContent":["import { Action, type IAction } from '@strife/common';\r\nimport { type IQueue } from '@interfaces/collections/IQueue';\r\n\r\nexport default class Queue<TItem> implements IQueue<TItem> {\r\n\r\n  public get head(): TItem | undefined {\r\n    return this._items.at(0);\r\n  }\r\n\r\n  private _headChangedEvent = new Action<[ TItem | undefined ]>();\r\n  public get headChangedEvent(): IAction<[ TItem | undefined ]> {\r\n    return this._headChangedEvent;\r\n  }\r\n\r\n  private _items = new Array<TItem>();\r\n  public get items(): ReadonlyArray<TItem> {\r\n    return this._items;\r\n  }\r\n\r\n  public enqueue(item: TItem): number {\r\n    const index = this._items.push(item) - 1;\r\n    if (index != 0)\r\n      return index;\r\n\r\n    const head = item;\r\n    this._headChangedEvent.invoke(undefined, head);\r\n    return index;\r\n  }\r\n\r\n  public dequeue(): TItem | undefined {\r\n    const item = this._items.shift();\r\n    const head = this._items.at(0);\r\n    this._headChangedEvent.invoke(undefined, head);\r\n    return item;\r\n  }\r\n\r\n  public delete(item: TItem): void {\r\n    const index = this._items.indexOf(item);\r\n    if (index < 0)\r\n      return;\r\n\r\n    if (index == 0) {\r\n      this.dequeue();\r\n      return;\r\n    }\r\n\r\n    this._items.splice(index, 1);\r\n  }\r\n\r\n  public contains(item: TItem): boolean {\r\n    return this._items.indexOf(item) >= 0;\r\n  }\r\n\r\n}"],"names":[],"mappings":";;;;AAAA;AAAA;;AAGe,MAAM;IAEnB,IAAW,OAA0B;QACnC,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;IACxB;IAEQ,oBAAoB,IAAI,8JAAM,GAA0B;IAChE,IAAW,mBAAmD;QAC5D,OAAO,IAAI,CAAC,iBAAiB;IAC/B;IAEQ,SAAS,IAAI,QAAe;IACpC,IAAW,QAA8B;QACvC,OAAO,IAAI,CAAC,MAAM;IACpB;IAEO,QAAQ,IAAW,EAAU;QAClC,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ;QACvC,IAAI,SAAS,GACX,OAAO;QAET,MAAM,OAAO;QACb,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,WAAW;QACzC,OAAO;IACT;IAEO,UAA6B;QAClC,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;QAC9B,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;QAC5B,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,WAAW;QACzC,OAAO;IACT;IAEO,OAAO,IAAW,EAAQ;QAC/B,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;QAClC,IAAI,QAAQ,GACV;QAEF,IAAI,SAAS,GAAG;YACd,IAAI,CAAC,OAAO;YACZ;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO;IAC5B;IAEO,SAAS,IAAW,EAAW;QACpC,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS;IACtC;AAEF","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/managers/QueueManager.ts"],"sourcesContent":["import { type IQueueManager } from '@interfaces/managers/IQueueManager';\r\nimport { IAction } from '@strife/common';\r\nimport Queue from '@/collections/Queue';\r\n\r\nexport default abstract class QueueManager<TItem> implements IQueueManager<TItem> {\r\n\r\n  private _version = 0;\r\n  public get version(): number {\r\n    return this._version;\r\n  }\r\n  \r\n  public get head(): TItem | undefined {\r\n    return this._queue.head;\r\n  }\r\n  \r\n  public get headChangedEvent(): IAction<[ TItem | undefined ]> {\r\n    return this._queue.headChangedEvent;\r\n  }\r\n\r\n  private _queue = new Queue<TItem>();\r\n  private _active?: TItem;\r\n  \r\n  public constructor() {\r\n    this.headChangedEvent.add(this.onHeadChanged.bind(this));\r\n  }\r\n\r\n  public enqueue(item: TItem): number {\r\n    this.configure(item);\r\n    return this._queue.enqueue(item);\r\n  }\r\n\r\n  public dequeue(): TItem | undefined {\r\n    return this._queue.dequeue();\r\n  }\r\n\r\n  public delete(item: TItem): void {\r\n    return this._queue.delete(item);\r\n  }\r\n\r\n  public contains(item: TItem): boolean {\r\n    return this._queue.contains(item);\r\n  }\r\n\r\n  protected abstract configure(item: TItem): void;\r\n  protected abstract activate(item: TItem): void;\r\n  protected abstract deactivate(item: TItem): void;\r\n\r\n  private onHeadChanged(item?: TItem): void {\r\n    if (this._active)\r\n      this.deactivate(this._active);\r\n\r\n    this._version++;\r\n    this._active = item;\r\n\r\n    if (this._active)\r\n      this.activate(this._active);\r\n  }\r\n\r\n}"],"names":[],"mappings":";;;;AAEA;;AAEe,MAAe;IAEpB,WAAW,EAAE;IACrB,IAAW,UAAkB;QAC3B,OAAO,IAAI,CAAC,QAAQ;IACtB;IAEA,IAAW,OAA0B;QACnC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI;IACzB;IAEA,IAAW,mBAAmD;QAC5D,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB;IACrC;IAEQ,SAAS,IAAI,8IAAK,GAAU;IAC5B,QAAgB;IAExB,aAAqB;QACnB,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI;IACxD;IAEO,QAAQ,IAAW,EAAU;QAClC,IAAI,CAAC,SAAS,CAAC;QACf,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;IAC7B;IAEO,UAA6B;QAClC,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO;IAC5B;IAEO,OAAO,IAAW,EAAQ;QAC/B,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC5B;IAEO,SAAS,IAAW,EAAW;QACpC,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IAC9B;IAMQ,cAAc,IAAY,EAAQ;QACxC,IAAI,IAAI,CAAC,OAAO,EACd,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO;QAE9B,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,OAAO,GAAG;QAEf,IAAI,IAAI,CAAC,OAAO,EACd,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO;IAC9B;AAEF","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/interfaces/managers/IToastQueueManager.ts"],"sourcesContent":["import { type IQueueManager } from '@interfaces/managers/IQueueManager';\r\nimport { type SnackbarProps } from '@mui/material';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport interface IToastQueueManager extends IQueueManager<IToastData> {}\r\nexport type IToastData = SnackbarProps;\r\n\r\nexport const ToastQueueManagerServiceId: ServiceIdentifier<IToastQueueManager> = Symbol.for('ToastQueueManagerServiceId');"],"names":[],"mappings":";;;;AAOO,MAAM,6BAAoE,OAAO,GAAG,CAAC","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/managers/ToastQueueManager.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport QueueManager from '@/managers/QueueManager';\r\nimport { ToastQueueManagerServiceId, type IToastData, type IToastQueueManager } from '@interfaces/managers/IToastQueueManager';\r\nimport { type SnackbarCloseReason } from '@mui/material';\r\nimport { injectable } from 'inversify';\r\nimport { type SyntheticEvent } from 'react';\r\n\r\n@injectable()\r\nclass ToastQueueManager extends QueueManager<IToastData> implements IToastQueueManager {\r\n\r\n  protected configure(item: IToastData): void {\r\n    const onClose = item.onClose;\r\n    item.onClose = \r\n      (event: Event | SyntheticEvent<any, Event>, reason: SnackbarCloseReason): void => {\r\n        if (onClose)\r\n          onClose(event, reason);\r\n\r\n        if (this.head == item)\r\n          this.dequeue();\r\n      };\r\n  }\r\n\r\n  protected activate(item: IToastData): void {\r\n    item.open = true;\r\n  }\r\n\r\n  protected deactivate(item: IToastData): void {\r\n    item.open = false;\r\n  }\r\n\r\n}\r\n\r\ndi.bind(ToastQueueManagerServiceId).to(ToastQueueManager).inSingletonScope();"],"names":[],"mappings":";;AAAA;AACA;AACA;AAEA;AAAA;;;;;;AAGA,MACM,0BAA0B,kJAAY;IAEhC,UAAU,IAAgB,EAAQ;QAC1C,MAAM,UAAU,KAAK,OAAO;QAC5B,KAAK,OAAO,GACV,CAAC,OAA2C;YAC1C,IAAI,SACF,QAAQ,OAAO;YAEjB,IAAI,IAAI,CAAC,IAAI,IAAI,MACf,IAAI,CAAC,OAAO;QAChB;IACJ;IAEU,SAAS,IAAgB,EAAQ;QACzC,KAAK,IAAI,GAAG;IACd;IAEU,WAAW,IAAgB,EAAQ;QAC3C,KAAK,IAAI,GAAG;IACd;AAEF;;;;AAEA,6IAAE,CAAC,IAAI,CAAC,kLAA0B,EAAE,EAAE,CAAC,mBAAmB,gBAAgB","debugId":null}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/Toasts.tsx"],"sourcesContent":["'use client'\r\n\r\nimport di from '@/DependencyInjection';\r\nimport '@/managers/ToastQueueManager';\r\nimport { ToastQueueManagerServiceId } from '@interfaces/managers/IToastQueueManager';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport { Fragment, JSX, useEffect, useState } from 'react';\r\n\r\nexport default function Toasts(): JSX.Element {\r\n\r\n  const toastQueueManager = di.get(ToastQueueManagerServiceId);\r\n  const [ snackbar, setSnackbar ] = useState<JSX.Element | undefined>();\r\n  useEffect(initializationEffect, []);\r\n\r\n  return <Fragment>{snackbar}</Fragment>;\r\n\r\n  function onHeadChanged(): void {\r\n    const snackbar = toastQueueManager.head\r\n      ? <Snackbar key={toastQueueManager.version} {...toastQueueManager.head} />\r\n      : <Fragment />;\r\n    setSnackbar(snackbar);\r\n  }\r\n\r\n  function initializationEffect(): void {\r\n    onHeadChanged();\r\n    toastQueueManager.headChangedEvent.add(onHeadChanged);\r\n  }\r\n\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IAEtB,MAAM,oBAAoB,6IAAE,CAAC,GAAG,CAAC,kLAA0B;IAC3D,MAAM,CAAE,UAAU,YAAa,GAAG,IAAA,iNAAQ;IAC1C,IAAA,kNAAS,EAAC,sBAAsB,EAAE;IAElC,qBAAO,8OAAC,iNAAQ;kBAAE;;;;;;;;IAElB,SAAS;QACP,MAAM,WAAW,kBAAkB,IAAI,iBACnC,8OAAC,2KAAQ;YAAkC,GAAG,kBAAkB,IAAI;WAArD,kBAAkB,OAAO;;;;iCACxC,8OAAC,iNAAQ;;;;;QACb,YAAY;IACd;IAEA,SAAS;QACP;QACA,kBAAkB,gBAAgB,CAAC,GAAG,CAAC;IACzC;AAEF","debugId":null}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/Page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Toasts from '@components/Toasts';\r\nimport { Fragment, JSX } from 'react';\r\n\r\nexport default function Page({ children }: Readonly<{ children: React.ReactNode }>): JSX.Element {\r\n  return (\r\n    <Fragment>\r\n      {children}\r\n      <Toasts />\r\n    </Fragment>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,KAAK,EAAE,QAAQ,EAA2C;IAChF,qBACE,8OAAC,iNAAQ;;YACN;0BACD,8OAAC,wIAAM;;;;;;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/layout/Window.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Paper } from '@mui/material';\r\nimport { JSX } from 'react';\r\n\r\nexport default function Window({ children }: Readonly<{ children: React.ReactNode }>): JSX.Element {\r\n  return (\r\n    <div className=\"grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20\">\r\n      <main className=\"row-start-2 items-center sm:items-start w-full md:w-lg\">\r\n        <Paper elevation={4}>\r\n          {children}\r\n        </Paper>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKe,SAAS,OAAO,EAAE,QAAQ,EAA2C;IAClF,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAK,WAAU;sBACd,cAAA,8OAAC,uMAAK;gBAAC,WAAW;0BACf;;;;;;;;;;;;;;;;AAKX","debugId":null}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/interfaces/services/IAuthenticationService.ts"],"sourcesContent":["import { type IBaseService } from '@interfaces/services/IBaseService';\r\nimport { type AuthenticationData, type LoginAuthenticationData, type UpdateAuthenticationData } from '@strife/common';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport interface IAuthenticationService extends IBaseService {\r\n  login(data: LoginAuthenticationData): Promise<AuthenticationData>;\r\n  logout(): Promise<void>;\r\n  updateAuthentication(data: UpdateAuthenticationData): Promise<AuthenticationData>;\r\n}\r\n\r\nexport const AuthenticationServiceServiceId: ServiceIdentifier<IAuthenticationService> = Symbol.for('AuthenticationServiceServiceId');"],"names":[],"mappings":";;;;AAUO,MAAM,iCAA4E,OAAO,GAAG,CAAC","debugId":null}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/login/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport di from '@/DependencyInjection';\r\nimport Page from '@components/Page';\r\nimport Window from '@components/layout/Window';\r\nimport { AuthenticationServiceServiceId } from '@interfaces/services/IAuthenticationService';\r\nimport Alert from '@mui/material/Alert';\r\nimport Button from '@mui/material/Button';\r\nimport Link from '@mui/material/Link';\r\nimport TextField from '@mui/material/TextField';\r\nimport Typography from '@mui/material/Typography';\r\nimport { validateEmail, validatePassword } from '@strife/common';\r\nimport { useRouter } from 'next/navigation';\r\nimport { ChangeEvent, Fragment, useState } from 'react';\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [ email, setEmail ] = useState('');\r\n  const [ emailError, setEmailError ] = useState<string | undefined>();\r\n  const [ password, setPassword ] = useState('');\r\n  const [ passwordError, setPasswordError ] = useState<string | undefined>();\r\n  const [ error, setError ] = useState<string | undefined>();\r\n\r\n  return (\r\n    <Page>\r\n      <Window>\r\n        <form className=\"flex flex-col gap-[32px] p-8\" onSubmit={onSubmitLogin}>\r\n          <Typography variant=\"h2\" align=\"center\" fontWeight={700}>strife</Typography>\r\n          <div className=\"flex flex-col gap-[8px]\">\r\n            {\r\n              error == undefined\r\n                ? <Fragment />\r\n                : <Alert variant=\"filled\" severity=\"error\">{error}</Alert>\r\n            }\r\n            <TextField name=\"email\" type=\"email\" value={email} onChange={onChangeEmail} error={emailError != undefined} helperText={emailError} placeholder=\"email\" />\r\n            <TextField name=\"password\" type=\"password\" value={password} onChange={onChangePassword} error={passwordError != undefined} helperText={passwordError} placeholder=\"password\" />\r\n            <Button type=\"submit\">Login</Button>\r\n            <Link href=\"/login\" className=\"text-center\" fontSize={'small'}>Don't have an account yet?</Link>\r\n          </div>\r\n        </form>\r\n      </Window>\r\n    </Page>\r\n  );\r\n\r\n  function onChangeEmail(event: ChangeEvent<HTMLInputElement>): void {\r\n    const email = event.target.value;\r\n    setEmail(email)\r\n    const error = email.length == 0 \r\n      ? undefined\r\n      : validateEmail(email);\r\n    setEmailError(error ? error.message : undefined);\r\n  }\r\n\r\n  function onChangePassword(event: ChangeEvent<HTMLInputElement>): void {\r\n    const password = event.target.value;\r\n    setPassword(password);\r\n    const error = password.length == 0\r\n      ? undefined\r\n      : validatePassword(password);\r\n    setPasswordError(error ? error.message : undefined);\r\n  }\r\n\r\n  async function onSubmitLogin(event: React.FormEvent<HTMLFormElement>): Promise<void> {\r\n    event.preventDefault();\r\n\r\n    if (emailError || passwordError)\r\n      return;\r\n\r\n    const authenticationService = await di.getAsync(AuthenticationServiceServiceId);\r\n\r\n    try {\r\n      const authenticationData = await authenticationService.login({ email, password });\r\n      onLoginSuccess();\r\n    } catch (error: any) {\r\n      console.log(error);\r\n      setError(error);\r\n    }\r\n  }\r\n\r\n  async function onLoginSuccess(): Promise<void> {\r\n      setError(undefined);\r\n      setEmail('');\r\n      setEmailError(undefined);\r\n      setPassword('');\r\n      setPasswordError(undefined);\r\n\r\n      router.push('/home');\r\n  }\r\n\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAbA;;;;;;;;;;;;;;AAee,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAE,OAAO,SAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAE,YAAY,cAAe,GAAG,IAAA,iNAAQ;IAC9C,MAAM,CAAE,UAAU,YAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAE,eAAe,iBAAkB,GAAG,IAAA,iNAAQ;IACpD,MAAM,CAAE,OAAO,SAAU,GAAG,IAAA,iNAAQ;IAEpC,qBACE,8OAAC,sIAAI;kBACH,cAAA,8OAAC,kJAAM;sBACL,cAAA,8OAAC;gBAAK,WAAU;gBAA+B,UAAU;;kCACvD,8OAAC,+KAAU;wBAAC,SAAQ;wBAAK,OAAM;wBAAS,YAAY;kCAAK;;;;;;kCACzD,8OAAC;wBAAI,WAAU;;4BAEX,SAAS,0BACL,8OAAC,iNAAQ;;;;qDACT,8OAAC,qKAAK;gCAAC,SAAQ;gCAAS,UAAS;0CAAS;;;;;;0CAEhD,8OAAC,6KAAS;gCAAC,MAAK;gCAAQ,MAAK;gCAAQ,OAAO;gCAAO,UAAU;gCAAe,OAAO,cAAc;gCAAW,YAAY;gCAAY,aAAY;;;;;;0CAChJ,8OAAC,6KAAS;gCAAC,MAAK;gCAAW,MAAK;gCAAW,OAAO;gCAAU,UAAU;gCAAkB,OAAO,iBAAiB;gCAAW,YAAY;gCAAe,aAAY;;;;;;0CAClK,8OAAC,uKAAM;gCAAC,MAAK;0CAAS;;;;;;0CACtB,8OAAC,mKAAI;gCAAC,MAAK;gCAAS,WAAU;gCAAc,UAAU;0CAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOzE,SAAS,cAAc,KAAoC;QACzD,MAAM,QAAQ,MAAM,MAAM,CAAC,KAAK;QAChC,SAAS;QACT,MAAM,QAAQ,MAAM,MAAM,IAAI,IAC1B,YACA,IAAA,oLAAa,EAAC;QAClB,cAAc,QAAQ,MAAM,OAAO,GAAG;IACxC;IAEA,SAAS,iBAAiB,KAAoC;QAC5D,MAAM,WAAW,MAAM,MAAM,CAAC,KAAK;QACnC,YAAY;QACZ,MAAM,QAAQ,SAAS,MAAM,IAAI,IAC7B,YACA,IAAA,8LAAgB,EAAC;QACrB,iBAAiB,QAAQ,MAAM,OAAO,GAAG;IAC3C;IAEA,eAAe,cAAc,KAAuC;QAClE,MAAM,cAAc;QAEpB,IAAI,cAAc,eAChB;QAEF,MAAM,wBAAwB,MAAM,6IAAE,CAAC,QAAQ,CAAC,0LAA8B;QAE9E,IAAI;YACF,MAAM,qBAAqB,MAAM,sBAAsB,KAAK,CAAC;gBAAE;gBAAO;YAAS;YAC/E;QACF,EAAE,OAAO,OAAY;YACnB,QAAQ,GAAG,CAAC;YACZ,SAAS;QACX;IACF;IAEA,eAAe;QACX,SAAS;QACT,SAAS;QACT,cAAc;QACd,YAAY;QACZ,iBAAiB;QAEjB,OAAO,IAAI,CAAC;IAChB;AAEF","debugId":null}}]
}