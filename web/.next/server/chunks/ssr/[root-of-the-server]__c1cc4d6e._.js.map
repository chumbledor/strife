{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/DependencyInjection.ts"],"sourcesContent":["import { Container } from 'inversify';\r\n\r\nconst container = new Container();\r\n\r\nexport default container;"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEA,MAAM,YAAY,IAAI,8KAAS;uCAEhB","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/collections/Queue.ts"],"sourcesContent":["import { Action, type IAction } from '@strife/common';\r\nimport { type IQueue } from '@interfaces/collections/IQueue';\r\n\r\nexport default class Queue<TItem> implements IQueue<TItem> {\r\n\r\n  public get head(): TItem | undefined {\r\n    return this._items.at(0);\r\n  }\r\n\r\n  private _headChangedEvent = new Action<[ TItem | undefined ]>();\r\n  public get headChangedEvent(): IAction<[ TItem | undefined ]> {\r\n    return this._headChangedEvent;\r\n  }\r\n\r\n  private _items = new Array<TItem>();\r\n  public get items(): ReadonlyArray<TItem> {\r\n    return this._items;\r\n  }\r\n\r\n  public enqueue(item: TItem): number {\r\n    const index = this._items.push(item) - 1;\r\n    if (index != 0)\r\n      return index;\r\n\r\n    const head = item;\r\n    this._headChangedEvent.invoke(undefined, head);\r\n    return index;\r\n  }\r\n\r\n  public dequeue(): TItem | undefined {\r\n    const item = this._items.shift();\r\n    const head = this._items.at(0);\r\n    this._headChangedEvent.invoke(undefined, head);\r\n    return item;\r\n  }\r\n\r\n  public delete(item: TItem): void {\r\n    const index = this._items.indexOf(item);\r\n    if (index < 0)\r\n      return;\r\n\r\n    if (index == 0) {\r\n      this.dequeue();\r\n      return;\r\n    }\r\n\r\n    this._items.splice(index, 1);\r\n  }\r\n\r\n  public contains(item: TItem): boolean {\r\n    return this._items.indexOf(item) >= 0;\r\n  }\r\n\r\n}"],"names":[],"mappings":";;;;AAAA;AAAA;;AAGe,MAAM;IAEnB,IAAW,OAA0B;QACnC,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;IACxB;IAEQ,oBAAoB,IAAI,8JAAM,GAA0B;IAChE,IAAW,mBAAmD;QAC5D,OAAO,IAAI,CAAC,iBAAiB;IAC/B;IAEQ,SAAS,IAAI,QAAe;IACpC,IAAW,QAA8B;QACvC,OAAO,IAAI,CAAC,MAAM;IACpB;IAEO,QAAQ,IAAW,EAAU;QAClC,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ;QACvC,IAAI,SAAS,GACX,OAAO;QAET,MAAM,OAAO;QACb,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,WAAW;QACzC,OAAO;IACT;IAEO,UAA6B;QAClC,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK;QAC9B,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;QAC5B,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,WAAW;QACzC,OAAO;IACT;IAEO,OAAO,IAAW,EAAQ;QAC/B,MAAM,QAAQ,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;QAClC,IAAI,QAAQ,GACV;QAEF,IAAI,SAAS,GAAG;YACd,IAAI,CAAC,OAAO;YACZ;QACF;QAEA,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO;IAC5B;IAEO,SAAS,IAAW,EAAW;QACpC,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS;IACtC;AAEF","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/managers/QueueManager.ts"],"sourcesContent":["import { type IQueueManager } from '@interfaces/managers/IQueueManager';\r\nimport { IAction } from '@strife/common';\r\nimport Queue from '@/collections/Queue';\r\n\r\nexport default abstract class QueueManager<TItem> implements IQueueManager<TItem> {\r\n\r\n  private _version = 0;\r\n  public get version(): number {\r\n    return this._version;\r\n  }\r\n  \r\n  public get head(): TItem | undefined {\r\n    return this._queue.head;\r\n  }\r\n  \r\n  public get headChangedEvent(): IAction<[ TItem | undefined ]> {\r\n    return this._queue.headChangedEvent;\r\n  }\r\n\r\n  private _queue = new Queue<TItem>();\r\n  private _active?: TItem;\r\n  \r\n  public constructor() {\r\n    this.headChangedEvent.add(this.onHeadChanged.bind(this));\r\n  }\r\n\r\n  public enqueue(item: TItem): number {\r\n    this.configure(item);\r\n    return this._queue.enqueue(item);\r\n  }\r\n\r\n  public dequeue(): TItem | undefined {\r\n    return this._queue.dequeue();\r\n  }\r\n\r\n  public delete(item: TItem): void {\r\n    return this._queue.delete(item);\r\n  }\r\n\r\n  public contains(item: TItem): boolean {\r\n    return this._queue.contains(item);\r\n  }\r\n\r\n  protected abstract configure(item: TItem): void;\r\n  protected abstract activate(item: TItem): void;\r\n  protected abstract deactivate(item: TItem): void;\r\n\r\n  private onHeadChanged(item?: TItem): void {\r\n    if (this._active)\r\n      this.deactivate(this._active);\r\n\r\n    this._version++;\r\n    this._active = item;\r\n\r\n    if (this._active)\r\n      this.activate(this._active);\r\n  }\r\n\r\n}"],"names":[],"mappings":";;;;AAEA;;AAEe,MAAe;IAEpB,WAAW,EAAE;IACrB,IAAW,UAAkB;QAC3B,OAAO,IAAI,CAAC,QAAQ;IACtB;IAEA,IAAW,OAA0B;QACnC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI;IACzB;IAEA,IAAW,mBAAmD;QAC5D,OAAO,IAAI,CAAC,MAAM,CAAC,gBAAgB;IACrC;IAEQ,SAAS,IAAI,8IAAK,GAAU;IAC5B,QAAgB;IAExB,aAAqB;QACnB,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI;IACxD;IAEO,QAAQ,IAAW,EAAU;QAClC,IAAI,CAAC,SAAS,CAAC;QACf,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;IAC7B;IAEO,UAA6B;QAClC,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO;IAC5B;IAEO,OAAO,IAAW,EAAQ;QAC/B,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;IAC5B;IAEO,SAAS,IAAW,EAAW;QACpC,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IAC9B;IAMQ,cAAc,IAAY,EAAQ;QACxC,IAAI,IAAI,CAAC,OAAO,EACd,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO;QAE9B,IAAI,CAAC,QAAQ;QACb,IAAI,CAAC,OAAO,GAAG;QAEf,IAAI,IAAI,CAAC,OAAO,EACd,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO;IAC9B;AAEF","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/interfaces/managers/IToastQueueManager.ts"],"sourcesContent":["import { type IQueueManager } from '@interfaces/managers/IQueueManager';\r\nimport { type SnackbarProps } from '@mui/material';\r\nimport { type ServiceIdentifier } from 'inversify';\r\n\r\nexport interface IToastQueueManager extends IQueueManager<IToastData> {}\r\nexport type IToastData = SnackbarProps;\r\n\r\nexport const ToastQueueManagerServiceId: ServiceIdentifier<IToastQueueManager> = Symbol.for('ToastQueueManagerServiceId');"],"names":[],"mappings":";;;;AAOO,MAAM,6BAAoE,OAAO,GAAG,CAAC","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/managers/ToastQueueManager.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport QueueManager from '@/managers/QueueManager';\r\nimport { ToastQueueManagerServiceId, type IToastData, type IToastQueueManager } from '@interfaces/managers/IToastQueueManager';\r\nimport { type SnackbarCloseReason } from '@mui/material';\r\nimport { injectable } from 'inversify';\r\nimport { type SyntheticEvent } from 'react';\r\n\r\n@injectable()\r\nclass ToastQueueManager extends QueueManager<IToastData> implements IToastQueueManager {\r\n\r\n  protected configure(item: IToastData): void {\r\n    const onClose = item.onClose;\r\n    item.onClose = \r\n      (event: Event | SyntheticEvent<any, Event>, reason: SnackbarCloseReason): void => {\r\n        if (onClose)\r\n          onClose(event, reason);\r\n\r\n        if (this.head == item)\r\n          this.dequeue();\r\n      };\r\n  }\r\n\r\n  protected activate(item: IToastData): void {\r\n    item.open = true;\r\n  }\r\n\r\n  protected deactivate(item: IToastData): void {\r\n    item.open = false;\r\n  }\r\n\r\n}\r\n\r\ndi.bind(ToastQueueManagerServiceId).to(ToastQueueManager).inSingletonScope();"],"names":[],"mappings":";;AAAA;AACA;AACA;AAEA;AAAA;;;;;;AAGA,MACM,0BAA0B,kJAAY;IAEhC,UAAU,IAAgB,EAAQ;QAC1C,MAAM,UAAU,KAAK,OAAO;QAC5B,KAAK,OAAO,GACV,CAAC,OAA2C;YAC1C,IAAI,SACF,QAAQ,OAAO;YAEjB,IAAI,IAAI,CAAC,IAAI,IAAI,MACf,IAAI,CAAC,OAAO;QAChB;IACJ;IAEU,SAAS,IAAgB,EAAQ;QACzC,KAAK,IAAI,GAAG;IACd;IAEU,WAAW,IAAgB,EAAQ;QAC3C,KAAK,IAAI,GAAG;IACd;AAEF;;;;AAEA,6IAAE,CAAC,IAAI,CAAC,kLAA0B,EAAE,EAAE,CAAC,mBAAmB,gBAAgB","debugId":null}},
    {"offset": {"line": 162, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/Toasts.tsx"],"sourcesContent":["'use client'\r\n\r\nimport di from '@/DependencyInjection';\r\nimport '@/managers/ToastQueueManager';\r\nimport { ToastQueueManagerServiceId } from '@interfaces/managers/IToastQueueManager';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport { Fragment, JSX, useEffect, useState } from 'react';\r\n\r\nexport default function Toasts(): JSX.Element {\r\n\r\n  const toastQueueManager = di.get(ToastQueueManagerServiceId);\r\n  const [ snackbar, setSnackbar ] = useState<JSX.Element | undefined>();\r\n  useEffect(initializationEffect, []);\r\n\r\n  return <Fragment>{snackbar}</Fragment>;\r\n\r\n  function onHeadChanged(): void {\r\n    const snackbar = toastQueueManager.head\r\n      ? <Snackbar key={toastQueueManager.version} {...toastQueueManager.head} />\r\n      : <Fragment />;\r\n    setSnackbar(snackbar);\r\n  }\r\n\r\n  function initializationEffect(): void {\r\n    onHeadChanged();\r\n    toastQueueManager.headChangedEvent.add(onHeadChanged);\r\n  }\r\n\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IAEtB,MAAM,oBAAoB,6IAAE,CAAC,GAAG,CAAC,kLAA0B;IAC3D,MAAM,CAAE,UAAU,YAAa,GAAG,IAAA,iNAAQ;IAC1C,IAAA,kNAAS,EAAC,sBAAsB,EAAE;IAElC,qBAAO,8OAAC,iNAAQ;kBAAE;;;;;;;;IAElB,SAAS;QACP,MAAM,WAAW,kBAAkB,IAAI,iBACnC,8OAAC,2KAAQ;YAAkC,GAAG,kBAAkB,IAAI;WAArD,kBAAkB,OAAO;;;;iCACxC,8OAAC,iNAAQ;;;;;QACb,YAAY;IACd;IAEA,SAAS;QACP;QACA,kBAAkB,gBAAgB,CAAC,GAAG,CAAC;IACzC;AAEF","debugId":null}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/Page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Toasts from '@components/Toasts';\r\nimport { Fragment, JSX } from 'react';\r\n\r\nexport default function Page({ children }: Readonly<{ children: React.ReactNode }>): JSX.Element {\r\n  return (\r\n    <Fragment>\r\n      {children}\r\n      <Toasts />\r\n    </Fragment>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,KAAK,EAAE,QAAQ,EAA2C;IAChF,qBACE,8OAAC,iNAAQ;;YACN;0BACD,8OAAC,wIAAM;;;;;;;;;;;AAGb","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/interfaces/IUser.ts"],"sourcesContent":["import type { AuthenticationData } from '@strife/common';\r\nimport { ServiceIdentifier } from 'inversify';\r\n\r\nexport interface IUser {\r\n  authentication?: AuthenticationData;\r\n  login(authenticationData: AuthenticationData): void;\r\n  logout(): void;\r\n}\r\n\r\nexport const UserServiceId: ServiceIdentifier<IUser> = Symbol.for('UserServiceId');"],"names":[],"mappings":";;;;AASO,MAAM,gBAA0C,OAAO,GAAG,CAAC","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/src/User.ts"],"sourcesContent":["import di from '@/DependencyInjection';\r\nimport { UserServiceId, type IUser } from '@interfaces/IUser';\r\nimport { type AuthenticationData } from '@strife/common';\r\nimport { injectable } from 'inversify';\r\n\r\n@injectable()\r\nexport default class User implements IUser {\r\n\r\n  private _authentication?: AuthenticationData;\r\n  public get authentication(): AuthenticationData | undefined {\r\n    return this._authentication;\r\n  }\r\n\r\n  public login(authenticationData: AuthenticationData): void {\r\n    this._authentication = authenticationData;\r\n  }\r\n\r\n  public logout(): void {\r\n    this._authentication = undefined;\r\n  }\r\n\r\n}\r\n\r\ndi.bind(UserServiceId).to(User).inSingletonScope();"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;AAAA;;;;;AAGe,MAAM;IAEX,gBAAqC;IAC7C,IAAW,iBAAiD;QAC1D,OAAO,IAAI,CAAC,eAAe;IAC7B;IAEO,MAAM,kBAAsC,EAAQ;QACzD,IAAI,CAAC,eAAe,GAAG;IACzB;IAEO,SAAe;QACpB,IAAI,CAAC,eAAe,GAAG;IACzB;AAEF;;;;AAEA,6IAAE,CAAC,IAAI,CAAC,4IAAa,EAAE,EAAE,CAAC,MAAM,gBAAgB","debugId":null}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/root/components/AuthenticatedPage.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Page from '@components/Page';\r\nimport { Fragment, JSX } from 'react';\r\nimport di from '@/DependencyInjection';\r\nimport '@/User';\r\nimport { UserServiceId } from '@interfaces/IUser';\r\nimport { usePathname, useRouter } from 'next/navigation';\r\n\r\nexport default function AuthenticatedPage({ children }: Readonly<{ children: React.ReactNode }>): JSX.Element {\r\n  const user = di.get(UserServiceId);\r\n  if (!user.authentication) {\r\n    const router = useRouter();\r\n    const pathname = usePathname();\r\n    router.replace(`/login?redirect=${pathname}`);\r\n    return <Fragment />\r\n  }\r\n\r\n  return <Page>{children}</Page>\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS,kBAAkB,EAAE,QAAQ,EAA2C;IAC7F,MAAM,OAAO,6IAAE,CAAC,GAAG,CAAC,4IAAa;IACjC,IAAI,CAAC,KAAK,cAAc,EAAE;QACxB,MAAM,SAAS,IAAA,+IAAS;QACxB,MAAM,WAAW,IAAA,iJAAW;QAC5B,OAAO,OAAO,CAAC,CAAC,gBAAgB,EAAE,UAAU;QAC5C,qBAAO,8OAAC,iNAAQ;;;;;IAClB;IAEA,qBAAO,8OAAC,sIAAI;kBAAE;;;;;;AAChB","debugId":null}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///usr/src/app/app/home/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport AuthenticatedPage from '@components/AuthenticatedPage';\r\n\r\nexport default function HomePage() {\r\n  return (\r\n    <AuthenticatedPage>Hello, world!</AuthenticatedPage>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,qBACE,8OAAC,mJAAiB;kBAAC;;;;;;AAEvB","debugId":null}}]
}